# 日月輸入法字根編碼

## 大碼、聲碼、韻碼

在日月輸入法中，每一個字根，都對應了兩個或三個編碼（拉丁字母 a-z）：

- 第一個字母叫做**大碼**，它是字根最重要的信息。它只可能是`BCDFGHJKLMNPQRSTVWXY`等20個字母之一。爲了方便教學，本教程用大寫字母表示。
- 第二個字母叫做**聲碼**。它只可能是`bcdfghjklmnprstxz`等18個字母之一。爲了方便教學，本教程用小寫字母表示。
- 第三個字母叫做**韻碼**。它只可能是`aoeiu`等5個字母之一，也就是「啊哦鵝衣烏」五個基本元音。爲了方便教學，本教程用小寫字母表示。

大部分字根都是**大碼**、**聲碼**、**韻碼**俱全的。比如：

- `口` 的編碼是 `Dke`，其中，`D`是**大碼**、`k`是**聲碼**、`e`是**韻碼**。
- `木` 的編碼是 `Sme`，其中，`S`是**大碼**、`s`是**聲碼**、`e`是**韻碼**。

小部分的字根没有**聲碼**，因此它只有兩個編碼。比如：

- `一` 的編碼是 `Fi`，其中，`F`是**大碼**、`i`是**韻碼**。
- `二` 的編碼是 `So`，其中，`S`是**大碼**、`o`是**韻碼**。

爲了便於學習、方便記憶，字根的大碼和小碼的設計具有一定的規律。在接下來的教程中會進行介紹。

## 字根圖

若將所有字根畫在類似鍵盤佈局的格子裏，這便是**字根圖**。每一個格子的大寫字母，就是大碼，是若干字根共同的家。而字根右側的字母，則是聲碼和韻碼，也就是單個字根的「姓名」。將大碼和小碼組合起來，就是一個字根的編碼了。

::: tip 例

`其`這個字根，在字母`H`的方框裡，同時，右下角的字母是`qi`，因此，它的編碼就是`Hqi`。它的大碼是`H`、聲碼是`q`、韻碼是`i`。

`言`這個字根，在字母`D`的方框裡，同時，右下角的字母是`e`，因此，它的編碼就是`De`。它的大碼是`D`、没有聲碼、韻碼是`e`。

:::

字根圖是查詢字根的重要工具，初學者應當時常將它放在手邊，以利用查詢。

繁體特有的字根有 22 個，主要是位於漢字左側的偏旁部首。即使暫時不打繁體，也可以試着記憶，權當一瞥我們祖先所使用漢字的樣貌。

::: info 傳統漢字特有字根

`鳥烏魚馬風來車長門鬥齒飛見貝鹵僉韋咼黽`
:::

<script setup>
import ZigenMap from "@/zigen/ZigenMap.vue"
</script>
<ZigenMap :default-scheme="'star'" column-min-width="1.5rem" />

## 大碼規律

日月輸入法中，擁有相似字形的字根常常會抱團出現，被賦予相同的**大碼**。目的是减少學習成本，防止過快遺忘。比如：

- `厂广鹿疒麻` 的大碼都在`G`上，因爲它們都有`厂`的形態。
- `了子予` 的大碼都在`L`上，因爲它們都有相似的形態。

這裏不一一列出，大家可以在學習過程中自己體會。

當然，也有不少字根没有參與聚類，它們的大碼較爲亂序，需要你特别記憶。

大碼只會出現在`BCDFGHJKLMNPQRSTVWXY`等20個字母上。它排除了`AOEIU`五個元音字母（它們只用於韻碼）以及`Z`（它被用來作爲反查引導符）。

## 聲碼規律

日月輸入法的聲碼設計繼承卿雲輸入法的理念，呈體系地使用字根**實際**讀音的**聲部**，從而大幅度降低學習成本。這被稱爲[音托](../docs/concepts)

聲碼，既然取了字根讀音的聲部，也就註定不會觸碰任何元音字母了。它們只取 `bcdfghjklmnprstxz` 等18個字母。還有兩個小細節：

1. 對於 `ZH(ㄓ) CH(ㄔ) SH(ㄕ)` 三個聲母，因爲漢語拼音中都是都是兩個字母，因此我們將它們轉換爲 `s r k`。
2. 部分字根爲零聲母或近零聲母，比如`一羊王` 中的 `y w`，我們直接不取聲碼。這便是爲什麽聲碼字母没有`wy`的原因。
3. 部分字根聲母爲`r`的，我們將它的讀音看作整體，只取韻碼，具體在下一節講解。

比如：

- `走` 字根，讀音爲`zǒu`，聲母爲`z`，故而聲碼爲`z`。
- `米` 字根，讀音爲`mǐ`，聲母爲`m`，故而聲碼爲`m`。
- `手` 字根，讀音爲`shǒu`，聲部爲`sh`，我們用`k`代替`sh`，故而其聲碼爲`k`。
- `竹` 字根，讀音爲`zhú`，聲部爲`zh`，我們用`s`代替`zh`，故而其聲碼爲`s`。
- `車` 字根，讀音爲`chǒu`，聲部爲`ch`，我們用`r`代替`ch`，故而其聲碼爲`r`。

聲母爲`y w`的字，不取聲碼，比如：

- `一` 字根，讀音爲`yī`，因爲`y`和`i`是一體的，故而認爲它是零聲母，只取韻碼，**不取聲碼**。
- `王` 字根，讀音爲`wáng`，因爲`w`和`ang`其實是一體的，表達`uáng`這個韻，故而認爲它是零聲母，只取韻碼，**不取聲碼**。
- `羊` 字根，讀音爲`yáng`，因爲`y`和`ang`其實是一體的，表達`iáng`這個韻，故而認爲它是零聲母，只取韻碼，**不取聲碼**。
- `言` 字根，讀音爲`yán`，因爲`y`和`an`其實是一體的，表達`ián`這個韻，故而認爲它是零聲母，只取韻碼，**不取聲碼**。

## 韻碼規律

日月輸入法的韻碼呈體系地使用字根**實際**讀音的**韻部**。韻碼只取`aoeiu`（啊哦鵝衣烏）這五個元音字母。

對於漢語拼音中，韻母只有一個字母的字根，韻碼的選取比較簡單。比如：

- `西` 字根，拼音爲`xī`，它的聲碼是`x`，韻碼是`i`。
- `古` 字根，拼音爲`gǔ`，它的聲碼是`g`，韻碼是`u`。
- `戈` 字根，拼音爲`gē`，它的聲碼是`g`，韻碼是`e`。
- `女` 字根，拼音爲`nǚ`，它的聲碼是`n`，韻碼是`e`（韻母`ü`對應的韻碼是`e`）。
- `一` 字根，拼音爲`yī`，它的聲碼爲空，韻碼爲`i`。
- `雨` 字根，拼音爲`yǔ`，它的聲碼爲空，韻碼爲`e`（韻母`ü`對應的韻碼是`e`）。

對於韻母使用多個字母的，比如 `ian` `uan` `iao` 等，需要我們給每個韻賦予一個元音字母（`aoeiu`）。比如：

- `二` 字根，拼音爲`èr`，它的聲碼爲空，韻碼爲`e`（韻母`er`對應的韻碼是`e`）。
- `三` 字根，拼音爲`sān`，它的聲碼爲`s`，韻碼爲`a`（韻母`an`對應的韻碼是`a`）。
- `川` 字根，拼音爲`chuān`，它的聲碼爲`r`（聲母`ch`對應的聲碼是`r`），韻碼爲`i`（韻母`uan`對應的韻碼是`i`）。
- `用` 字根，拼音爲`yòng`，它的聲碼爲空，韻碼爲`i`（韻母`iong`對應的韻碼是`i`）。
- `文` 字根，拼音爲`wén`，它的聲碼爲空，韻碼爲`i`（韻母`uen`對應的韻碼是`i`）。

對於聲母爲`r`的，我們將它整體看作一個特殊的韻母音節，只取韻碼。這樣的字根只有4個，比如：

- `人壬` 字根，拼音爲`rén`，它的聲碼爲空，韻碼爲`o`（音節`ren`對應的韻碼是`o`）。
- `入` 字根，拼音爲`rù`，它的聲碼爲空，韻碼爲`e`（音節`ru`對應的韻碼是`e`）。
- `日` 字根，拼音爲`rì`，它的聲碼爲空，韻碼爲`i`（音節`ri`對應的韻碼是`i`）。

對於一些有若干讀音的字，一般取**最常用**的讀音作爲聲碼韻碼。有時也取**不常用**的讀音來增加手感，比如:

- `土` 字根，最長用的讀音爲`tǔ`，也有不常用的讀音爲`dǔ`。聲碼取`d`，韻碼`u`。
- `虫` 字根，因漢字簡化，最長用的讀音爲`chóng`，但也有**古音**`hǔi`。聲碼取`h`，韻碼取`o`（音節`ui`對應的韻碼是`o`）。
- `厂丆` 字根，因漢字簡化，最長用的讀音爲`chǎng`，但也有**古音**`ān`。聲碼爲空，韻碼取`a`（音節`an`對應的韻碼是`a`）。

如果一個字根**無音**、或爲生僻字、或讀音繁雜，則聲碼爲空，韻碼取`o`，比如:

- `冂jǐong 勹bāo`字根，是生僻字，故而我們作無音處理，聲碼爲空，韻碼取`o`。
- <span class="yuniversus"></span>字根，不是漢字，故而我們作無音處理，聲碼爲空，韻碼取`o`。

韻碼的設置是有體系的，你可以在練習時歸納總結，也可以使用下表進行瞭解。下表爲漢語拼音**音節**、注音符號**音節**、**韻碼**對應表。`～`表示任何聲母。

| 拼音音節                              | 注音音節                                                | 韻碼 | 舉例   | 備註                        |
| :------------------------------------ | :------------------------------------------------------ | :--- | :----- | :-------------------------- |
| ～a                                   | ～ㄚ                                                    | A    | 巴 Jba |                             |
| ～ai                                  | ～ㄞ                                                    | E    | 白 Kbe |                             |
| ～an                                  | ～ㄢ                                                    | A    | 干 Lga |                             |
| ～ang                                 | ～ㄤ                                                    | E    | 上 Jke |                             |
| ～ao                                  | ～ㄠ                                                    | I    | 刀 Jdi |                             |
| ～e                                   | ～ㄜ                                                    | E    | 禾 Che |                             |
| ～ei                                  | ～ㄟ                                                    | O    | 黑 Rho |                             |
| ～en                                  | ～ㄣ                                                    | E    | 艮 Mge |                             |
| ～eng                                 | ～ㄥ                                                    | E    | 生 Cke |                             |
| ～i                                   | ～ㄧ                                                    | I    | 一 Fi  |                             |
| ～ia                                  | ～ㄧㄚ                                                  | A    | 牙 Fa  |                             |
| ～iao                                 | ～ㄧㄠ                                                  | I    | 幺 Li  |                             |
| qian tian dian yan                    | ㄑ〡ㄢ ㄊ〡ㄢ ㄉ〡ㄢ 〡ㄢ                               | I    | 丶 Ndi | 聲碼在左或無聲碼時，韻碼取i |
| pian jian mian                        | ㄆ〡ㄢ ㄐ〡ㄢ ㄇ〡ㄢ                                    | E    | 面 Fme | 聲碼在右時，韻碼取e         |
| ～iang yang                           | ～ㄧㄤ                                                  | O    | 羊 Xo  |                             |
| ～ie ye                               | ～ㄧㄝ                                                  | E    | 也 Me  |                             |
| ～iu you                              | ～ㄧㄡ                                                  | U    | 又 Cu  |                             |
| ～in yin                              | ～ㄧㄣ                                                  | O    | 廴 Fo  |                             |
| ～ing ying                            | ～ㄧㄥ                                                  | I    | 丁 KDi |                             |
| ～iong yong                           | ～ㄩㄥ                                                  | I    | 用 Si  |                             |
| ～ong                                 | ～ㄨㄥ                                                  | I    | 工 Jgi |                             |
| ～ou                                  | ～ㄡ                                                    | E    | 缶 NFe |                             |
| bu fu du lu gu hu<br>zhu chu shu zu u | ㄅㄨ ㄈㄨ ㄉㄨ ㄌㄨ ㄍㄨ ㄏㄨ<br>ㄓㄨ ㄔㄨ ㄕㄨ ㄗㄨ ㄨ | U    | 鳥 RNi | 聲碼非mu/pu時，韻碼取u      |
| mu, pu                                | ㄇㄨ ㄆㄨ                                               | E    | 母 Dmu | 聲碼爲mu/pu時，韻碼取e      |
| ～ua wa                               | ～ㄨㄚ                                                  | A    | 爪 Bsa |                             |
| ～uan wan                             | ～ㄨㄢ                                                  | I    | 川 Jri |                             |
| ～uang wang                           | ～ㄨㄤ                                                  | O    | 王 Ro  |                             |
| ～un wen                              | ～ㄨㄣ                                                  | I    | 文 Ri  |                             |
| ～uo ～o                              | ～ㄨㄛ ～ㄛ                                             | O    | 𠂇 Mzo  |                             |
| ～üan                                 | ～ㄩㄢ                                                  | I    | 犬 Pqi |                             |
| ～üê yue                              | ～ㄩㄝ                                                  | E    | 月 Ne  |                             |
| ～ü yu                                | ～ㄩ                                                    | V    | 魚 Be  |                             |
| shi                                   | ㄕㄭ                                                    | A    | 十 Tka | 音節爲shi時，韻碼取a        |
| zhi chi zi ci si                      | ㄓㄭ ㄔㄭ ㄗㄭ ㄘㄭ ㄙㄭ                                | I    | 子 Lzi | 音節非shi時，韻碼取i        |
| ri                                    | ㄖ                                                      | I    | 日 Ji  |                             |
| ru                                    | ㄖㄨ                                                    | E    | 入 Ke  |                             |
| ren                                   | ㄖㄣ                                                    | O    | 人 Wo  |                             |
