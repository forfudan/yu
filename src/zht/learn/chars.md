<script setup>
import Chaifen from '@/chaifen/Chaifen.vue'
</script>

# 星陳輸入法單字編碼

## 編碼規則

學習了宇浩系列輸入法的拆分規則後，我們可以將任何一個漢字拆成唯一的字根組合。

現在，我們討論如何把字根組合轉爲星陳輸入法的單字編碼。

星陳輸入法的單字編碼一般是由**4 個字母**構成。部分字根字爲 3 個字母。

在星陳輸入法中，無論一個字能拆成幾個字根，我們只關心其中的四個根，分別是：

- 第一根：首根
- 第二根：二根
- 第三根：三根
- 倒數第一根：末根

這同五筆字型相同，和鄭碼、徐碼不同。

單字編碼規則如下：

1. 依次取一、二、三、末根大碼。
2. 不足四碼時，補上末根小碼。
3. 仍然不足四碼時，補上首根小碼。

最後一條，只有雙根字中會出現。第二條，只有三根字中會出現。

::: tip 例

`嫩`字拆成`女木口夂`，分別對應了首根、二根、三根、末根，我們直接取〔`女` Cn `木` Am `口` Lv `夂` Tu〕四個字根的大碼 CALT 即可出字。
<Chaifen char='嫩' :parts='[3,1,3,3,4]' :colors='[1,2,3,2,4]' />

`整`字拆成`木口夂正`，我們只取首根、二根、三根、末根，也就是〔`木` Am `口` Lv `攵` Tu `正` Lz〕的大碼，輸入 ALTP 即可出字。
<Chaifen char='整' :parts='[1,3,3,4,5]' :colors='[1,2,1,3,4]' />

`算`字拆成`竹目卄`，只有三根，所以我們取全部根，也就是〔`𥫗` Gz `目` Jm `廾` So〕的大碼，即 GJS。此時，注意到不足四碼，故而補上最末根的小碼 o。輸入 GJso 即可出字。
<Chaifen char='算' :parts='[6,5,3]' />

`织`字拆成`纟口八`，只有三根，所以我們取全部根大碼，也就是 KLK。此時，注意到不足四碼，故而補上最末根的小碼 a。輸入 KLKa 即可出字。
<Chaifen char='织' :parts='[3,3,2]' />

`认`字拆成`讠人`，只有兩根，所以我們取全部根，也就是〔`讠` Dy `人` Re〕的大碼，即 DR 。此時，注意到不足四碼，故而補上最末根的小碼 e。注意到仍然不足四碼，於是再添上首根的小碼 y。輸入 DRey 即可出字。
<Chaifen char='认' :parts='[2,2]' />

`好`字拆成`女子`，只有兩根，所以我們取全部根，也就是〔`女` Cn `子` Kz〕的大碼，即 CK。此時，注意到不足四碼，故而補上最末根的小碼 z。注意到仍然不足四碼，於是再添上首根的小碼 n。輸入 CKzn 即可出字。
<Chaifen char='好' :parts='[3,3]' />
:::

末尾添加首根的小碼，只是爲了補齊四碼的作用，只有在雙根字中才會出現。

## 成字字根

有些字根本身就是常用字，稱爲「成字字根」，又稱爲「單根字」。

單根字的全碼爲三碼：大碼+小碼+小碼

::: tip 例

`木`作爲單字時，編碼爲 `Amm`。

`骨`作爲單字時，編碼爲 `Rgg`。
:::

注意到，字根字編碼規則同單字編碼規則是一致的。

- 假設字根大碼爲 A，小碼爲 a。
- 首先，依次取一、二、三、末根大碼，故取 A。
- 接着，不足四碼，故補上末根小碼，故取 a。
- 最後，仍然不足四碼，故補上首根小碼 a。最終編碼爲 Aaa。

::: info 常見問題

Q：字根字重複小碼的原因是什麽？

A：首先是爲了讓字根編碼規則和單字編碼規則一致。其次，如果字根字是兩碼，但字根本身比較罕用，那麽會浪費一個寶貴的二級簡碼碼位。

很多輸入法會將另一個常用字設置成二簡，而讓字根字選重，或者通過其他方式爲字根字增加一碼。這個方式實際上卻在事實上形成了新的重碼。星陳輸入法直接在根源上解決了這個問題。

:::

## 空格鍵的使用

在很多輸入法軟件中，空格鍵（以下用`_`表示）用來上屏首選字。

根據以上的學習內容，我們發現：星陳輸入法的編碼最長不超過 4 個字母。由於這個特性，我們在輸入完編碼後，不一定需要按空格鍵將字打上屏幕。

空格鍵只在以下情況需要使用：

1. 一個字的編碼低於 4 位，需要按空格鍵上屏首選。比如「人」字，需要按`Re_`上屏。
2. 一個字的編碼等於 4 位，且後面沒有其他的字需要輸入，則需要按空格鍵上屏首選。

以下情況，不需要使用空格鍵：

一個字的編碼等於 4 位，且有後續字符等待輸入。我們不需要按空格鍵。只要直接輸入下一個字的首碼，這個字就會自動上屏。我們稱之爲「五碼頂屏」。例如：我們打「霽雨」二字，「霽」字的編碼是`〔雨文{介下}・ CTKa〕`。輸入`a`後，我們直接輸入「雨」字的編碼`〔雨・ Cvv〕`，則「霽」字會自動上屏。
<div class="flex justify-left flex-wrap">
<Chaifen char='霁' :parts='[8,4,2]' />
<Chaifen char='雨' :parts='[8]' />
</div>
