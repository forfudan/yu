import{_ as i,c as s,o as a,a4 as h}from"./chunks/framework.rq0FYgLR.js";const D=JSON.parse('{"title":"机器实现","description":"","frontmatter":{},"headers":[],"relativePath":"learn/machine.md","filePath":"learn/machine.md"}'),n={name:"learn/machine.md"},t=h(`<h1 id="机器实现" tabindex="-1">机器实现 <a class="header-anchor" href="#机器实现" aria-label="Permalink to &quot;机器实现&quot;">​</a></h1><p>这里释出宇浩拆分规则的伪代码，用以展示使用计算机程序来实现拆分筛选的算法逻辑。注意，宇浩的拆分规则是<strong>淘汰性</strong>而非<strong>引导性</strong>的，故而算法的前置条件是已经拥有了若干的候选拆分，在此基础上，程序可以筛选出最满足宇浩拆分规则的唯一拆分。</p><p>假设某个汉字存在<code>N</code>个候选拆分，记为 <code>divs = {div_i | i in [1, 2, ..., N]}</code>。每个拆分都是字根的<strong>有序</strong>集合，记为 <code>div = {root_i | i in [1, 2, ..., M]}</code>，有以下属性：</p><ul><li><code>div.len: int</code> 字根个数</li><li><code>div.bishun: Booleann</code> 字根是否完全合笔顺</li><li><code>div.san: Boolean</code> 字根是否分散</li><li><code>div.lian: Boolean</code> 字根是否相连</li><li><code>div.jiao: Boolean</code> 字根是否相交</li><li><code>div.duan: Boolean</code> 字根是否断开</li></ul><p>注意：<code>div.san</code>, <code>div.lian</code>, <code>div.jiao</code>, <code>div</code>,<code>duan</code> 中有且只有一个是 <code>True</code>。</p><p>以下伪代码会从<code>N</code>个候选拆分<code>divs = {div_i | i in [1, 2, ..., N]}</code> 中选出最优拆分：</p><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes light-plus material-theme-palenight vp-code"><code><span class="line"><span style="--shiki-light:#008000;--shiki-dark:#676E95;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"># 字根最少</span></span>
<span class="line"><span style="--shiki-light:#AF00DB;--shiki-dark:#89DDFF;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">for</span><span style="--shiki-light:#000000;--shiki-dark:#BABED8;"> div_i </span><span style="--shiki-light:#AF00DB;--shiki-dark:#89DDFF;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">in</span><span style="--shiki-light:#000000;--shiki-dark:#BABED8;"> divs</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF;">:</span></span>
<span class="line"><span style="--shiki-light:#008000;--shiki-dark:#676E95;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">    # 移除字根数量不是最少的候选拆分</span></span>
<span class="line"><span style="--shiki-light:#AF00DB;--shiki-dark:#89DDFF;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">    if</span><span style="--shiki-light:#000000;--shiki-dark:#BABED8;"> div_i</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#000000;--shiki-dark:#F07178;">len</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF;"> !=</span><span style="--shiki-light:#795E26;--shiki-dark:#82AAFF;"> min</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF;">([</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF;">i</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#000000;--shiki-dark:#F07178;">len</span><span style="--shiki-light:#AF00DB;--shiki-dark:#89DDFF;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"> for</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF;"> i </span><span style="--shiki-light:#AF00DB;--shiki-dark:#89DDFF;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">in</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF;"> divs</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF;">]):</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BABED8;">        divs</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF;">remove</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF;">(</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF;">div_i</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF;">)</span></span>
<span class="line"><span style="--shiki-light:#AF00DB;--shiki-dark:#89DDFF;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">    if</span><span style="--shiki-light:#795E26;--shiki-dark:#82AAFF;"> len</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF;">(</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF;">divs</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF;">)</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF;"> ==</span><span style="--shiki-light:#098658;--shiki-dark:#F78C6C;"> 1</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF;">:</span></span>
<span class="line"><span style="--shiki-light:#AF00DB;--shiki-dark:#89DDFF;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">        break</span><span style="--shiki-light:#008000;--shiki-dark:#676E95;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">  # 剩下唯一拆分候选，则停止判断</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#008000;--shiki-dark:#676E95;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"># 结构完整</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BABED8;">root_completeness_score </span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF;">=</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF;"> {</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BABED8;">    囗：</span><span style="--shiki-light:#098658;--shiki-dark:#F78C6C;">2</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF;">,</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BABED8;">    日：</span><span style="--shiki-light:#098658;--shiki-dark:#F78C6C;">2</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF;">,</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BABED8;">    目：</span><span style="--shiki-light:#098658;--shiki-dark:#F78C6C;">2</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF;">,</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BABED8;">    田：</span><span style="--shiki-light:#098658;--shiki-dark:#F78C6C;">2</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF;">,</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BABED8;">    冂：</span><span style="--shiki-light:#098658;--shiki-dark:#F78C6C;">1</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF;">,</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BABED8;">    勹：</span><span style="--shiki-light:#098658;--shiki-dark:#F78C6C;">1</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF;">,</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BABED8;">    匚：</span><span style="--shiki-light:#098658;--shiki-dark:#F78C6C;">1</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF;">,</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BABED8;">    凵：</span><span style="--shiki-light:#098658;--shiki-dark:#F78C6C;">1</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF;">,</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BABED8;">    コ：</span><span style="--shiki-light:#098658;--shiki-dark:#F78C6C;">1</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF;">,</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BABED8;">    其他：</span><span style="--shiki-light:#098658;--shiki-dark:#F78C6C;">0</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF;">,</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#89DDFF;">}</span><span style="--shiki-light:#008000;--shiki-dark:#676E95;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">  # 包围结构得分更高</span></span>
<span class="line"><span style="--shiki-light:#AF00DB;--shiki-dark:#89DDFF;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">for</span><span style="--shiki-light:#000000;--shiki-dark:#BABED8;"> div_i</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF;">,</span><span style="--shiki-light:#000000;--shiki-dark:#BABED8;"> div_j </span><span style="--shiki-light:#AF00DB;--shiki-dark:#89DDFF;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">in</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF;"> permutation</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF;">(</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF;">divs</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF;">,</span><span style="--shiki-light:#098658;--shiki-dark:#F78C6C;"> 2</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF;">):</span><span style="--shiki-light:#008000;--shiki-dark:#676E95;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">  # 俩俩取候选拆分比较</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BABED8;">    common </span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF;">=</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF;"> intersect</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF;">(</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF;">div_i</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF;">,</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF;"> div_j</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF;">)</span><span style="--shiki-light:#008000;--shiki-dark:#676E95;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">  # 共同的拆分部分</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BABED8;">    unique_i </span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF;">=</span><span style="--shiki-light:#000000;--shiki-dark:#BABED8;"> div_i</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF;">difference</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF;">(</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF;">common</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF;">)</span><span style="--shiki-light:#008000;--shiki-dark:#676E95;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">  # 非共同的拆分部分</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BABED8;">    unique_j </span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF;">=</span><span style="--shiki-light:#000000;--shiki-dark:#BABED8;"> div_j</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF;">difference</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF;">(</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF;">common</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF;">)</span><span style="--shiki-light:#008000;--shiki-dark:#676E95;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">  # 非共同的拆分部分</span></span>
<span class="line"><span style="--shiki-light:#008000;--shiki-dark:#676E95;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">    # 非共同字根中有包围结构的保留</span></span>
<span class="line"><span style="--shiki-light:#AF00DB;--shiki-dark:#89DDFF;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">    if</span><span style="--shiki-light:#000000;--shiki-dark:#BABED8;"> unique_i</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF;">map</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF;">(</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF;">root_completeness_score</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF;">)</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF;"> &lt;</span><span style="--shiki-light:#000000;--shiki-dark:#BABED8;"> unique_j</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF;">map</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF;">(</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF;">root_completeness_score</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF;">):</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BABED8;">        divs</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF;">remove</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF;">(</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF;">div_i</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF;">)</span></span>
<span class="line"><span style="--shiki-light:#AF00DB;--shiki-dark:#89DDFF;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">    if</span><span style="--shiki-light:#795E26;--shiki-dark:#82AAFF;"> len</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF;">(</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF;">divs</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF;">)</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF;"> ==</span><span style="--shiki-light:#098658;--shiki-dark:#F78C6C;"> 1</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF;">:</span></span>
<span class="line"><span style="--shiki-light:#AF00DB;--shiki-dark:#89DDFF;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">        break</span><span style="--shiki-light:#008000;--shiki-dark:#676E95;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">  # 剩下唯一拆分候选，则停止判断</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#008000;--shiki-dark:#676E95;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"># 符合笔顺</span></span>
<span class="line"><span style="--shiki-light:#AF00DB;--shiki-dark:#89DDFF;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">for</span><span style="--shiki-light:#000000;--shiki-dark:#BABED8;"> div_i </span><span style="--shiki-light:#AF00DB;--shiki-dark:#89DDFF;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">in</span><span style="--shiki-light:#000000;--shiki-dark:#BABED8;"> divs</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF;">:</span></span>
<span class="line"><span style="--shiki-light:#008000;--shiki-dark:#676E95;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">    # 存在完全符合笔顺的拆分时，移除不完全符合笔顺的候选拆分</span></span>
<span class="line"><span style="--shiki-light:#AF00DB;--shiki-dark:#89DDFF;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">    if</span><span style="--shiki-light:#000000;--shiki-dark:#BABED8;"> div_i</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#000000;--shiki-dark:#F07178;">bishun</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF;"> !=</span><span style="--shiki-light:#795E26;--shiki-dark:#82AAFF;"> max</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF;">([</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF;">i</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#000000;--shiki-dark:#F07178;">bishun</span><span style="--shiki-light:#AF00DB;--shiki-dark:#89DDFF;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"> for</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF;"> i </span><span style="--shiki-light:#AF00DB;--shiki-dark:#89DDFF;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">in</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF;"> divs</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF;">]):</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BABED8;">        divs</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF;">remove</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF;">(</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF;">div_i</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF;">)</span></span>
<span class="line"><span style="--shiki-light:#AF00DB;--shiki-dark:#89DDFF;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">    if</span><span style="--shiki-light:#795E26;--shiki-dark:#82AAFF;"> len</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF;">(</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF;">divs</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF;">)</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF;"> ==</span><span style="--shiki-light:#098658;--shiki-dark:#F78C6C;"> 1</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF;">:</span></span>
<span class="line"><span style="--shiki-light:#AF00DB;--shiki-dark:#89DDFF;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">        break</span><span style="--shiki-light:#008000;--shiki-dark:#676E95;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">  # 剩下唯一拆分候选，则停止判断</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BABED8;">        </span></span>
<span class="line"><span style="--shiki-light:#008000;--shiki-dark:#676E95;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"># 字根分散</span></span>
<span class="line"><span style="--shiki-light:#AF00DB;--shiki-dark:#89DDFF;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">for</span><span style="--shiki-light:#000000;--shiki-dark:#BABED8;"> div_i </span><span style="--shiki-light:#AF00DB;--shiki-dark:#89DDFF;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">in</span><span style="--shiki-light:#000000;--shiki-dark:#BABED8;"> divs</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF;">:</span></span>
<span class="line"><span style="--shiki-light:#008000;--shiki-dark:#676E95;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">    # 存在散的拆分时，移除不散的候选拆分</span></span>
<span class="line"><span style="--shiki-light:#AF00DB;--shiki-dark:#89DDFF;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">    if</span><span style="--shiki-light:#000000;--shiki-dark:#BABED8;"> div_i</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#000000;--shiki-dark:#F07178;">san</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF;"> !=</span><span style="--shiki-light:#795E26;--shiki-dark:#82AAFF;"> max</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF;">([</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF;">i</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#000000;--shiki-dark:#F07178;">san</span><span style="--shiki-light:#AF00DB;--shiki-dark:#89DDFF;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"> for</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF;"> i </span><span style="--shiki-light:#AF00DB;--shiki-dark:#89DDFF;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">in</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF;"> divs</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF;">]):</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BABED8;">        divs</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF;">remove</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF;">(</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF;">div_i</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF;">)</span></span>
<span class="line"><span style="--shiki-light:#AF00DB;--shiki-dark:#89DDFF;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">    if</span><span style="--shiki-light:#795E26;--shiki-dark:#82AAFF;"> len</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF;">(</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF;">divs</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF;">)</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF;"> ==</span><span style="--shiki-light:#098658;--shiki-dark:#F78C6C;"> 1</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF;">:</span></span>
<span class="line"><span style="--shiki-light:#AF00DB;--shiki-dark:#89DDFF;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">        break</span><span style="--shiki-light:#008000;--shiki-dark:#676E95;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">  # 剩下唯一拆分候选，则停止判断</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#008000;--shiki-dark:#676E95;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"># 字根相连</span></span>
<span class="line"><span style="--shiki-light:#AF00DB;--shiki-dark:#89DDFF;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">for</span><span style="--shiki-light:#000000;--shiki-dark:#BABED8;"> div_i </span><span style="--shiki-light:#AF00DB;--shiki-dark:#89DDFF;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">in</span><span style="--shiki-light:#000000;--shiki-dark:#BABED8;"> divs</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF;">:</span></span>
<span class="line"><span style="--shiki-light:#008000;--shiki-dark:#676E95;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">    # 存在连的拆分时，移除不连的候选拆分</span></span>
<span class="line"><span style="--shiki-light:#AF00DB;--shiki-dark:#89DDFF;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">    if</span><span style="--shiki-light:#000000;--shiki-dark:#BABED8;"> div_i</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#000000;--shiki-dark:#F07178;">lian</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF;"> !=</span><span style="--shiki-light:#795E26;--shiki-dark:#82AAFF;"> max</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF;">([</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF;">i</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#000000;--shiki-dark:#F07178;">lian</span><span style="--shiki-light:#AF00DB;--shiki-dark:#89DDFF;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"> for</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF;"> i </span><span style="--shiki-light:#AF00DB;--shiki-dark:#89DDFF;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">in</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF;"> divs</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF;">]):</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BABED8;">        divs</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF;">remove</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF;">(</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF;">div_i</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF;">)</span></span>
<span class="line"><span style="--shiki-light:#AF00DB;--shiki-dark:#89DDFF;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">    if</span><span style="--shiki-light:#795E26;--shiki-dark:#82AAFF;"> len</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF;">(</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF;">divs</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF;">)</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF;"> ==</span><span style="--shiki-light:#098658;--shiki-dark:#F78C6C;"> 1</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF;">:</span></span>
<span class="line"><span style="--shiki-light:#AF00DB;--shiki-dark:#89DDFF;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">        break</span><span style="--shiki-light:#008000;--shiki-dark:#676E95;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">  # 剩下唯一拆分候选，则停止判断</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#008000;--shiki-dark:#676E95;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"># 字根相交</span></span>
<span class="line"><span style="--shiki-light:#AF00DB;--shiki-dark:#89DDFF;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">for</span><span style="--shiki-light:#000000;--shiki-dark:#BABED8;"> div_i </span><span style="--shiki-light:#AF00DB;--shiki-dark:#89DDFF;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">in</span><span style="--shiki-light:#000000;--shiki-dark:#BABED8;"> divs</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF;">:</span></span>
<span class="line"><span style="--shiki-light:#008000;--shiki-dark:#676E95;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">    # 存在交的拆分时，移除不交的候选拆分</span></span>
<span class="line"><span style="--shiki-light:#AF00DB;--shiki-dark:#89DDFF;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">    if</span><span style="--shiki-light:#000000;--shiki-dark:#BABED8;"> div_i</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#000000;--shiki-dark:#F07178;">jiao</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF;"> !=</span><span style="--shiki-light:#795E26;--shiki-dark:#82AAFF;"> max</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF;">([</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF;">i</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#000000;--shiki-dark:#F07178;">jiao</span><span style="--shiki-light:#AF00DB;--shiki-dark:#89DDFF;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"> for</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF;"> i </span><span style="--shiki-light:#AF00DB;--shiki-dark:#89DDFF;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">in</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF;"> divs</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF;">]):</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BABED8;">        divs</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF;">remove</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF;">(</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF;">div_i</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF;">)</span></span>
<span class="line"><span style="--shiki-light:#AF00DB;--shiki-dark:#89DDFF;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">    if</span><span style="--shiki-light:#795E26;--shiki-dark:#82AAFF;"> len</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF;">(</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF;">divs</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF;">)</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF;"> ==</span><span style="--shiki-light:#098658;--shiki-dark:#F78C6C;"> 1</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF;">:</span></span>
<span class="line"><span style="--shiki-light:#AF00DB;--shiki-dark:#89DDFF;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">        break</span><span style="--shiki-light:#008000;--shiki-dark:#676E95;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">  # 剩下唯一拆分候选，则停止判断</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#008000;--shiki-dark:#676E95;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"># 字根断开</span></span>
<span class="line"><span style="--shiki-light:#008000;--shiki-dark:#676E95;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"># 断属性为散连交的补集，故不用再进行判断</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#008000;--shiki-dark:#676E95;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"># 字根取大之一</span></span>
<span class="line"><span style="--shiki-light:#008000;--shiki-dark:#676E95;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"># 让完全符合笔顺的部件尽可能地大</span></span>
<span class="line"><span style="--shiki-light:#AF00DB;--shiki-dark:#89DDFF;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">for</span><span style="--shiki-light:#000000;--shiki-dark:#BABED8;"> div_i</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF;">,</span><span style="--shiki-light:#000000;--shiki-dark:#BABED8;"> div_j </span><span style="--shiki-light:#AF00DB;--shiki-dark:#89DDFF;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">in</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF;"> permutation</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF;">(</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF;">divs</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF;">,</span><span style="--shiki-light:#098658;--shiki-dark:#F78C6C;"> 2</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF;">):</span><span style="--shiki-light:#008000;--shiki-dark:#676E95;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">  # 俩俩取候选拆分比较</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BABED8;">    common </span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF;">=</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF;"> intersect</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF;">(</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF;">div_i</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF;">,</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF;"> div_j</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF;">)</span><span style="--shiki-light:#008000;--shiki-dark:#676E95;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">  # 共同的拆分部分</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BABED8;">    unique_i </span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF;">=</span><span style="--shiki-light:#000000;--shiki-dark:#BABED8;"> div_i</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF;">difference</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF;">(</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF;">common</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF;">)</span><span style="--shiki-light:#008000;--shiki-dark:#676E95;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">  # 非共同的拆分部分</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BABED8;">    unique_j </span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF;">=</span><span style="--shiki-light:#000000;--shiki-dark:#BABED8;"> div_j</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF;">difference</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF;">(</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF;">common</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF;">)</span><span style="--shiki-light:#008000;--shiki-dark:#676E95;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">  # 非共同的拆分部分</span></span>
<span class="line"><span style="--shiki-light:#008000;--shiki-dark:#676E95;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">    # root_bishun_score(div) 是局部拆分中完全符合笔顺的字根数量</span></span>
<span class="line"><span style="--shiki-light:#008000;--shiki-dark:#676E95;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">    # 非共同字根中，完全符合笔顺的字根数量多的保留</span></span>
<span class="line"><span style="--shiki-light:#AF00DB;--shiki-dark:#89DDFF;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">    if</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF;"> root_bishun_score</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF;">(</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF;">unique_i</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF;">)</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF;"> &lt;</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF;"> root_bishun_score</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF;">(</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF;">unique_j</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF;">):</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BABED8;">        divs</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF;">remove</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF;">(</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF;">div_i</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF;">)</span></span>
<span class="line"><span style="--shiki-light:#AF00DB;--shiki-dark:#89DDFF;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">    if</span><span style="--shiki-light:#795E26;--shiki-dark:#82AAFF;"> len</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF;">(</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF;">divs</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF;">)</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF;"> ==</span><span style="--shiki-light:#098658;--shiki-dark:#F78C6C;"> 1</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF;">:</span></span>
<span class="line"><span style="--shiki-light:#AF00DB;--shiki-dark:#89DDFF;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">        break</span><span style="--shiki-light:#008000;--shiki-dark:#676E95;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">  # 剩下唯一拆分候选，则停止判断</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#008000;--shiki-dark:#676E95;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"># 字根取大之二</span></span>
<span class="line"><span style="--shiki-light:#008000;--shiki-dark:#676E95;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"># 让非歪斜根尽可能地大</span></span>
<span class="line"><span style="--shiki-light:#AF00DB;--shiki-dark:#89DDFF;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">for</span><span style="--shiki-light:#000000;--shiki-dark:#BABED8;"> div_i</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF;">,</span><span style="--shiki-light:#000000;--shiki-dark:#BABED8;"> div_j </span><span style="--shiki-light:#AF00DB;--shiki-dark:#89DDFF;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">in</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF;"> permutation</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF;">(</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF;">divs</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF;">,</span><span style="--shiki-light:#098658;--shiki-dark:#F78C6C;"> 2</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF;">):</span><span style="--shiki-light:#008000;--shiki-dark:#676E95;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">  # 俩俩取候选拆分比较</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BABED8;">    common </span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF;">=</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF;"> intersect</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF;">(</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF;">div_i</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF;">,</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF;"> div_j</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF;">)</span><span style="--shiki-light:#008000;--shiki-dark:#676E95;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">  # 共同的拆分部分</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BABED8;">    unique_i </span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF;">=</span><span style="--shiki-light:#000000;--shiki-dark:#BABED8;"> div_i</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF;">difference</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF;">(</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF;">common</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF;">)</span><span style="--shiki-light:#008000;--shiki-dark:#676E95;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">  # 非共同的拆分部分</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BABED8;">    unique_j </span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF;">=</span><span style="--shiki-light:#000000;--shiki-dark:#BABED8;"> div_j</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF;">difference</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF;">(</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF;">common</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF;">)</span><span style="--shiki-light:#008000;--shiki-dark:#676E95;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">  # 非共同的拆分部分</span></span>
<span class="line"><span style="--shiki-light:#008000;--shiki-dark:#676E95;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">    # leaning_root_strokes(div) 是局部拆分中歪斜根的笔画数</span></span>
<span class="line"><span style="--shiki-light:#008000;--shiki-dark:#676E95;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">    # 非共同字根中，非歪斜根笔画多的保留</span></span>
<span class="line"><span style="--shiki-light:#AF00DB;--shiki-dark:#89DDFF;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">    if</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF;"> leaning_root_strokes</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF;">(</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF;">unique_i</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF;">)</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF;"> &gt;</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF;"> leaning_root_strokes</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF;">(</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF;">unique_j</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF;">):</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BABED8;">        divs</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF;">remove</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF;">(</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF;">div_i</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF;">)</span></span>
<span class="line"><span style="--shiki-light:#AF00DB;--shiki-dark:#89DDFF;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">    if</span><span style="--shiki-light:#795E26;--shiki-dark:#82AAFF;"> len</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF;">(</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF;">divs</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF;">)</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF;"> ==</span><span style="--shiki-light:#098658;--shiki-dark:#F78C6C;"> 1</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF;">:</span></span>
<span class="line"><span style="--shiki-light:#AF00DB;--shiki-dark:#89DDFF;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">        break</span><span style="--shiki-light:#008000;--shiki-dark:#676E95;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">  # 剩下唯一拆分候选，则停止判断</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#008000;--shiki-dark:#676E95;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"># 字根取大之三</span></span>
<span class="line"><span style="--shiki-light:#008000;--shiki-dark:#676E95;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"># 让首笔靠前的字根尽可能地大</span></span>
<span class="line"><span style="--shiki-light:#AF00DB;--shiki-dark:#89DDFF;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">for</span><span style="--shiki-light:#000000;--shiki-dark:#BABED8;"> div_i</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF;">,</span><span style="--shiki-light:#000000;--shiki-dark:#BABED8;"> div_j </span><span style="--shiki-light:#AF00DB;--shiki-dark:#89DDFF;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">in</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF;"> permutation</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF;">(</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF;">divs</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF;">,</span><span style="--shiki-light:#098658;--shiki-dark:#F78C6C;"> 2</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF;">):</span><span style="--shiki-light:#008000;--shiki-dark:#676E95;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">  # 俩俩取候选拆分比较</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BABED8;">    common </span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF;">=</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF;"> intersect</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF;">(</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF;">div_i</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF;">,</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF;"> div_j</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF;">)</span><span style="--shiki-light:#008000;--shiki-dark:#676E95;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">  # 共同的拆分部分</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BABED8;">    unique_i </span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF;">=</span><span style="--shiki-light:#000000;--shiki-dark:#BABED8;"> div_i</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF;">difference</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF;">(</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF;">common</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF;">)</span><span style="--shiki-light:#008000;--shiki-dark:#676E95;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">  # 非共同的拆分部分</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BABED8;">    unique_j </span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF;">=</span><span style="--shiki-light:#000000;--shiki-dark:#BABED8;"> div_j</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF;">difference</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF;">(</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF;">common</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF;">)</span><span style="--shiki-light:#008000;--shiki-dark:#676E95;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">  # 非共同的拆分部分</span></span>
<span class="line"><span style="--shiki-light:#008000;--shiki-dark:#676E95;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">    # root_i.strokes.len 是字根的笔画数</span></span>
<span class="line"><span style="--shiki-light:#008000;--shiki-dark:#676E95;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">    # 非共同字根中，靠前的字根笔画多的保留</span></span>
<span class="line"><span style="--shiki-light:#AF00DB;--shiki-dark:#89DDFF;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">    for</span><span style="--shiki-light:#000000;--shiki-dark:#BABED8;"> root_i</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF;">,</span><span style="--shiki-light:#000000;--shiki-dark:#BABED8;"> root_j </span><span style="--shiki-light:#AF00DB;--shiki-dark:#89DDFF;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">in</span><span style="--shiki-light:#795E26;--shiki-dark:#82AAFF;"> zip</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF;">(</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF;">unique_i</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF;">,</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF;"> unique_j</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF;">):</span><span style="--shiki-light:#008000;--shiki-dark:#676E95;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">  # 俩俩取字根比较</span></span>
<span class="line"><span style="--shiki-light:#AF00DB;--shiki-dark:#89DDFF;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">        if</span><span style="--shiki-light:#000000;--shiki-dark:#BABED8;"> root_i</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#000000;--shiki-dark:#F07178;">strokes</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#000000;--shiki-dark:#F07178;">len</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF;"> &lt;</span><span style="--shiki-light:#000000;--shiki-dark:#BABED8;"> root_j</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#000000;--shiki-dark:#F07178;">strokes</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#000000;--shiki-dark:#F07178;">len</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF;">:</span></span>
<span class="line"><span style="--shiki-light:#000000;--shiki-dark:#BABED8;">            divs</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF;">.</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF;">remove</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF;">(</span><span style="--shiki-light:#000000;--shiki-dark:#82AAFF;">div_i</span><span style="--shiki-light:#000000;--shiki-dark:#89DDFF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#008000;--shiki-dark:#676E95;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"># 到此，必然只剩下唯一的拆分候选，即为最终拆分</span></span></code></pre></div>`,7),k=[t];function l(p,e,r,F,d,y){return a(),s("div",null,k)}const o=i(n,[["render",l]]);export{D as __pageData,o as default};
