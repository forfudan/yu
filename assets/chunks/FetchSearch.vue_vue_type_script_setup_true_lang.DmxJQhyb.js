import{d as v,H as l,y as g,o as r,c as d,m as i,ag as h,ah as y,b as _,e as w}from"./framework.DTi27XpN.js";import{_ as x}from"./Search.vue_vue_type_script_setup_true_lang.DfbqDTqn.js";import{b as M,f as k}from"./share.DAxIUpi5.js";const B={class:"input input-bordered bg-gray-100 dark:bg-slate-800 flex items-center gap-2 mt-2"},b=i("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor",class:"h-4 w-4 opacity-70"},[i("path",{"fill-rule":"evenodd",d:"M9.965 11.026a5 5 0 1 1 1.06-1.06l2.755 2.754a.75.75 0 1 1-1.06 1.06l-2.755-2.754ZM10.5 7a3.5 3.5 0 1 1-7 0 3.5 3.5 0 0 1 7 0Z","clip-rule":"evenodd"})],-1),z={key:0,class:"text-gray-600 text-center py-4"},U={key:2,class:"text-gray-500 text-center py-4"},V=v({__name:"FetchSearch",props:{chaifenUrl:{},zigenUrl:{},supplement:{type:Boolean},ming:{type:Boolean}},setup(m){const n=m,u=l(),c=l(),s=l(!1),o=l(!1),e=l("");async function f(){if(!(o.value||s.value)){s.value=!0;try{const[a,t]=await Promise.all([M(n.chaifenUrl),k(n.zigenUrl)]);u.value=a,c.value=t,o.value=!0}catch(a){console.error("Failed to load search data:",a)}finally{s.value=!1}}}return g(e,a=>{a.trim().length>0&&!o.value&&f()},{immediate:!1}),(a,t)=>(r(),d("div",null,[i("label",B,[h(i("input",{"onUpdate:modelValue":t[0]||(t[0]=p=>e.value=p),type:"text",class:"grow",placeholder:"輸入漢字查詢拆分和編碼"},null,512),[[y,e.value]]),b]),s.value?(r(),d("div",z," 正在加载拆分数据…… ")):o.value&&u.value&&c.value?(r(),_(x,{key:1,chaifenMap:u.value,zigenMap:c.value,supplement:n.supplement,ming:n.ming||!1,userInput:e.value,"onUpdate:userInput":t[1]||(t[1]=p=>e.value=p)},null,8,["chaifenMap","zigenMap","supplement","ming","userInput"])):e.value.trim().length>0?(r(),d("div",U," 开始输入以查看拆分…… ")):w("",!0)]))}});export{V as _};
