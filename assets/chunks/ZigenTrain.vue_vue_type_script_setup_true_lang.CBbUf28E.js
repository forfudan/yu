import{c as i,b as p,f as _}from"./share.Nrbaa2_l.js";import{_ as g}from"./TrainCard.vue_vue_type_script_setup_true_lang.D1avrDN6.js";import{d as h,H as l,l as d,o as f,b as v,p as k,c as M}from"./framework.rq0FYgLR.js";const w={key:1,class:"text-gray-700 text-center"},C=h({__name:"ZigenTrain",props:{name:{},zigenUrl:{},range:{},mode:{}},setup(m){const s=m;let t=s.name+"_zigen";const e=s.range;e&&(t+=`_${e[0]}_${e[1]}`);const a=l(i[t]),c=l(),u=n=>{switch(s.mode){case"A":return n[0];case"a":return n[1];case"both":return n}};return d(async()=>{if(a.value&&c.value)return;c.value=await p("/chaifen.csv");let r=[...(await _(s.zigenUrl)).values()];e&&(r=r.slice(e[0],e[1])),a.value=r.map(o=>({name:o.font,key:u(o.ma).toLowerCase()})),i[t]=a.value}),(n,r)=>a.value&&c.value?(f(),v(g,{key:0,name:k(t),cards:a.value,chaifenMap:c.value,mode:"g",supplement:!1,ming:!1},null,8,["name","cards","chaifenMap"])):(f(),M("h2",w," 下载数据中…… "))}});export{C as _};
