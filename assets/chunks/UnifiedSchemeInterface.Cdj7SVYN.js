import{_ as j}from"./OptimizedFetchSearch.vue_vue_type_script_setup_true_lang.CY_Ui788.js";import{d as y,h as U,v as V,k as r,c as l,o as i,e as S,b as E,p as g,F as k,C as z,n as C,m as s,t as _,a as I,_ as w,H as b}from"./framework.D5VGNaZP.js";import{Z as N}from"./ZigenMap.DgtKy8zl.js";const v=[{id:"joy",name:"卿雲",description:"卿雲爛兮糾縵縵兮",chaifenUrl:"/chaifen.csv",zigenUrl:"/zigen-joy.csv",supplement:!1,ming:!1},{id:"light",name:"光華",description:"日月光華旦復旦兮",chaifenUrl:"/chaifen.csv",zigenUrl:"/zigen-light.csv",supplement:!0,ming:!1},{id:"star",name:"星陳",description:"明明上天爛然星陳",chaifenUrl:"/chaifen.csv",zigenUrl:"/zigen-star.csv",supplement:!0,ming:!1},{id:"ming",name:"日月",description:"日月有常星辰有行",chaifenUrl:"/chaifen.csv",zigenUrl:"/zigen-ming.csv",supplement:!1,ming:!0},{id:"wafel",name:"吉旦餅",description:"Wafel·華夫·三碼方案",chaifenUrl:"/chaifen.csv",zigenUrl:"/zigen-wafel.csv",supplement:!1,ming:!1,wafel:!0}];v.map(a=>({id:a.id,name:a.name,description:a.description,zigenUrl:a.zigenUrl,chaifenUrl:"/chaifen.json"}));const T="star";function W(){const a=Math.floor(Math.random()*v.length);return v[a].id}const F={class:"tabbed-search-container"},H={key:0,class:"flex justify-center mb-6 space-x-4"},R=["onClick","title"],D={class:"scheme-text"},L={key:1,class:"mb-3 text-sm text-gray-600 dark:text-gray-400 text-center"},Z={key:0,class:"ml-2 text-xs opacity-75"},A=y({__name:"TabbedSearch",props:{defaultScheme:{},supplement:{type:Boolean},hideSchemeButtons:{type:Boolean}},setup(a){const d=a,{hideSchemeButtons:t}=d,m=U(""),u=v,e=U(d.defaultScheme||"star");V(()=>d.defaultScheme,c=>{c&&c!==e.value&&(e.value=c)},{immediate:!0});const n=r(()=>u.find(c=>c.id===e.value)||u[0]),o=r(()=>n.value.supplement||!1),h=r(()=>n.value.ming||!1),x=r(()=>n.value.wafel||!1);function $(c){u.find(f=>f.id===c)&&(e.value=c)}function M(c){return{joy:"卿",light:"光",star:"星",ming:"明",wafel:"華"}[c]||"?"}const B=r(()=>`search-${e.value}`);return(c,f)=>(i(),l("div",F,[g(t)?S("",!0):(i(),l("div",H,[(i(!0),l(k,null,z(g(u),p=>(i(),l("button",{key:p.id,onClick:le=>$(p.id),class:C(["scheme-button",{"scheme-button-active":e.value===p.id}]),title:p.description},[s("span",D,_(M(p.id)),1)],10,R))),128))])),g(t)?S("",!0):(i(),l("div",L,[f[1]||(f[1]=s("span",{class:"font-medium"},"當前方案",-1)),I("："+_(n.value.name)+" ",1),n.value.description?(i(),l("span",Z,_(n.value.description),1)):S("",!0)])),(i(),E(j,{key:B.value,chaifenUrl:n.value.chaifenUrl,zigenUrl:n.value.zigenUrl,supplement:o.value,ming:h.value,wafel:x.value,modelValue:m.value,"onUpdate:modelValue":f[0]||(f[0]=p=>m.value=p)},null,8,["chaifenUrl","zigenUrl","supplement","ming","wafel","modelValue"]))]))}}),K=w(A,[["__scopeId","data-v-edad351f"]]),P={class:"scheme-selector"},q={class:"flex justify-center space-x-4"},G=["onClick","title"],J={class:"scheme-text"},O=y({__name:"SchemeSelector",props:{schemes:{},activeScheme:{}},emits:["scheme-changed"],setup(a,{emit:d}){const t=d;function m(e){return{light:"光",wafel:"華",star:"星",joy:"卿",ming:"明"}[e]||"?"}function u(e){t("scheme-changed",e)}return(e,n)=>(i(),l("div",P,[s("div",q,[(i(!0),l(k,null,z(e.schemes,o=>(i(),l("button",{key:o.id,onClick:h=>u(o.id),class:C(["scheme-button",{"scheme-button-active":e.activeScheme===o.id}]),title:o.description||o.name},[s("span",J,_(m(o.id)),1)],10,G))),128))])]))}}),Q=w(O,[["__scopeId","data-v-0f0b1aae"]]),X={class:"unified-scheme-interface"},Y={class:"unified-scheme-selector"},ee={class:"scheme-header-row"},te={class:"scheme-info hidden md:block"},ne={class:"text-lg font-semibold text-gray-700 dark:text-gray-300 mb-1"},se={class:"text-sm text-gray-500 dark:text-gray-400"},ae={class:"scheme-buttons"},ce={class:"search-section"},ie={class:"zigen-section mt-8"},oe=y({__name:"UnifiedSchemeInterface",props:{defaultScheme:{},useRandomScheme:{type:Boolean}},setup(a){const d=a,t=U(d.defaultScheme||(d.useRandomScheme?W():T)),m=r(()=>v.find(h=>h.id===t.value)||v[0]),u=r(()=>{switch(t.value){case"ming":return"2rem";default:return"1.4rem"}}),e=r(()=>{switch(t.value){case"ming":return"1.0rem";default:return"1.0rem"}}),n=r(()=>{switch(t.value){case"ming":return!0;default:return!0}});function o(h){t.value=h}return(h,x)=>(i(),l("div",X,[s("div",Y,[s("div",ee,[s("div",te,[s("h3",ne,_(m.value.name)+"輸入法 ",1),s("p",se,_(m.value.description),1)]),s("div",ae,[b(Q,{schemes:g(v),"active-scheme":t.value,onSchemeChanged:o},null,8,["schemes","active-scheme"])])])]),s("div",ce,[b(K,{"default-scheme":t.value,"hide-scheme-buttons":!0},null,8,["default-scheme"])]),s("div",ie,[b(N,{"default-scheme":t.value,"column-min-width":u.value,"column-min-width-code-below":e.value,"default-code-position-below":n.value},null,8,["default-scheme","column-min-width","column-min-width-code-below","default-code-position-below"])])]))}}),me=w(oe,[["__scopeId","data-v-a104787c"]]);export{me as U};
