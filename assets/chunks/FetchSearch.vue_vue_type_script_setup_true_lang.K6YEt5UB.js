import{d as L,o,c as s,n as Q,m as e,t as r,F as E,C as S,p as I,e as b,j as B,k as x,R as U,a8 as j,H as y,v as J,a9 as D,b as M,l as K,a3 as q,a4 as V,a as W}from"./framework.72Ik0KeM.js";import{m as T,C as H,a as P}from"./share.Dv-cn20s.js";import{h as G}from"./html2canvas-pro.esm.C4LuxvEu.js";const X="data:image/svg+xml,%3csvg%20width='64'%20height='64'%20version='1.1'%20viewBox='0%200%2016.933%2016.933'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20transform='matrix(.26458%200%200%20.26458%20-.096467%200)'%3e%3crect%20x='.3646'%20width='64'%20height='64'%20fill='%23fff'%20stroke-width='.30788'/%3e%3cpath%20d='m47.405%2039.964v-17.095l3.0797%200.38638c3.4997%200.43907%204.5386%201.0695%203.4903%202.1178-0.50934%200.50934-0.70393%204.6927-0.70393%2015.134v14.43l-2.1998%200.78735c-1.2099%200.43304-2.5297%200.91027-2.933%201.0605-0.57608%200.21461-0.73326-3.3911-0.73326-16.821zm-37.248%2015.686c-1.1165-3.0281-1.9502-6.6731-1.5971-6.983%200.59881-0.52554%2026.562-5.3864%2026.91-5.0382%200.46019%200.46019-13.71%207.1657-19.007%208.9941-2.6609%200.91855-4.8387%201.9845-4.8395%202.3687-0.0023%201.0383-1.1389%201.5485-1.4671%200.6584zm5.24-17.614c3.9067-9.4201%2010.304-25.2%2010.304-25.416%200-0.14852-3.8276-0.27004-8.5058-0.27004-7.1696%200-8.5058-0.13822-8.5058-0.87991%200-0.74347%201.3799-0.87991%208.8995-0.87991%207.5357%200%209.0676-0.15208%209.9961-0.99236%200.98076-0.88758%201.4804-0.91306%204.7324-0.24138%204.7269%200.97632%204.917%201.1349%203.2331%202.6962-0.78095%200.72414-5.5837%207.1575-10.673%2014.296-5.0891%207.1389-9.4841%2013.123-9.7667%2013.297-0.2826%200.17465-0.15396-0.55014%200.28586-1.6106zm34.208-22.213c-0.56461-0.32885-1.0266-1.1301-1.0266-1.7805%200-1.5429-0.95599-3.3586-2.8211-5.3584-1.2546-1.3452-1.3353-1.6132-0.4858-1.6132%201.2655%200%204.1673%201.4446%206.6799%203.3254%203.7313%202.7931%201.5989%207.7246-2.3464%205.4267z'%20stroke-width='.5866'/%3e%3c/g%3e%3c/svg%3e",Z="data:image/png;base64,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",F="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAIAAAD8GO2jAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAEOoAABDqAYLTCpgAAAVJSURBVHjajVZpTFNbEL4gO7FEjZJUE8GFumvELahRE6MYo/5Q4oIxSkwU9xg1Jopb1KjoD9cEl8hTUWR5UgpIgQeUPeyLbPIsfTxZ2vSxVwq09X3t3JxcKS3eHOid78ycOWfmmzmXe81x739vFAQH/7Q88oCA9w4OGADx/4OTE9OJ4rhYkShp/vxoL1GkWBwxaRIn5WwOuVhcERKSLBKRqHzyhBy0xcUlcBwGQIW/f0dycklQELOK47g0iUTm6RljeeeioTrqcHDoa2zEch0pKYR8vX2bHHQWFjK1npoaAtNnzOC9OjomjR9P7x/sOMhbvx5m9GQuWgSkaNs2EpWPH1vrpM+aJTQfxUGiq2v91atFO3aQWLxzJzNO8/EBku3vzzt4+pR06i5fJkSvVmPjBFafOqWWyxWrVuEdi5ud8BMnTwqXK9mzh8TusjL5tGlACjZvJqTl7VsyqQ8LI0SrUPDbCgrirSor+RPgT2qZg1uaKw0Ohpi1ZAmJCD0ZJ0+YYBwcBFJ74QIhSAbpYDeEKJ89I6SvoYE/AXOgzcmhudbYWIjZy5eT+O3RIyQtY86cpnv3CKm/ciV/40ZdczOLYe6aNTIPj8ojR4Z7ewlRp6baPIE2NzfR2bldJiMRNmTGHpPRiCFEDD9+GIeGhMiX8+elQgfpM2e2vHnz085jMmEwyajXm4aH7agjyXEI0eTJvANEQPXyJb/lnh6h8VBnJ8KVgE3Mnj3w/TuQ7ooK6bhxOatXkxpim+Hn13Dtmr6jg0ygRvGJk0hQ33yIQD6aQzQhIpOkXXP2LON1b20tEE1aGt5l7u7GgQGIJbt30+zfDx6QSVdxMcSRNCVS/5eXR2KqWEwxqQoNJSTRzW2oq8usk58PUbFyJcs5xIJNm3QqFSGq58+BfMLiri5mJ1InJ8iNt27RdHlICK2I8oFYcfgwiawODDpdS2SkTqlk6RmR4Ybr12n7sRI//JgJnjZ9OiM1MT1r8WI+oK2tvXV1iAZjzpjPcF/f5ylT/oQPd3e+VSDQQo1/371Dxf/mckSEv+bNqz59mkTqV4mWBs7Fe3nVXrwIiJV42YED5t559y6LQN2lSwWBga0xMSxEoDmscCa2IQpj6d69/Lnb2vhCy9m6VZORQSiWYIQp3rWL9SJCkkQiqjjWTauOHycdNG1m+O3hQwKRVDOLqsPC9BoN5K6SEmGnrTlzhnFuhMuqEyeYGh2rv6mJIeiVLB714eHcJ2/vhhs32L7YaI6IIKWi7dsJQTUR8s+rV0zts7c3wpUhkQhtWc2qs7LMSa48ehQCighzmQsXpk6dCuKW7d8PENEHCEZhIeSGzHDizAULQLycgACwBQqFW7aAzeWHDqEjQMR9iQaOeGYHBnIxHh4gJQsFAmXo74cImg9qtaAHOGePP93dI+ibt27dLzda8ty5qhcvqP/Bv52F9O3tYxOWrhOhA/nSpSAZJprCwwGhV5NeW3z81zt3TAYDT4mbN4k26CiKFSuEVV117BjiifYOLoG7v97JDlyCWEw3yZdz5wBR16RQYjTdvy+sfjbgg3CQjRDrwRdatCVF6GIpEydaK2UvW0YLIZ9CvPzgQcJha8uBuVW4ucGB+RMIV5i1Brs4kedEFxchjpjwKd2wwZaDjxwX4+Nj87uIdVDqdyRaO0BxjG5L7drZ2Z4DdgvhAeuFeOm+fay327KlO3kMB5r0dFood+1a6xPQB4tNB5RkqV0HuLxoIXyWCXH2CYPKt5Nkqacn9xoHsT06y8tpoeLQUIjRjo4fXVzwooqKAoiLTObra8sWK//h6/s/gmuwTeTZGZoAAAAASUVORK5CYII=",N="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%20fill='none'%20stroke='currentColor'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'%3e%3cpath%20d='M23%2019a2%202%200%200%201-2%202H3a2%202%200%200%201-2-2V8a2%202%200%200%201%202-2h4l2-3h6l2%203h4a2%202%200%200%201%202%202z'%3e%3c/path%3e%3ccircle%20cx='12'%20cy='13'%20r='4'%3e%3c/circle%3e%3c/svg%3e",Y={key:0,class:"text-4xl text-indigo-800 dark:text-indigo-300"},_={class:"zigen-font"},$={key:1,class:"text-4xl text-indigo-800 dark:text-indigo-300"},ee={class:"zigen-font tooltip","data-tip":"é¦–é¸å­—å½¢æ¨™æº–"},te={class:"zigen-font-tc tooltip","data-tip":"è‡ºç£å­—å½¢æ¨™æº–"},ae={class:"font-mono opacity-70 justify-center transition text-sm my-1"},oe={key:2,class:"flex flex-col"},se={class:"flex justify-center gap-1 font-mono text-sm opacity-70 text-gray-600 dark:text-gray-400"},ie={class:"text-indigo-800 dark:text-indigo-300 text-xl"},ne={class:"font-mono tracking-widest"},re={key:3,class:"flex"},le={class:"flex flex-col ml-3 tooltip","data-tip":"é¦–é¸å­—å½¢æ¨™æº–æ‹†åˆ†"},ce={class:"flex justify-center gap-1 font-mono text-sm opacity-70 text-gray-600 dark:text-gray-400"},de={class:"text-indigo-800 dark:text-indigo-300"},ue={class:"font-mono tracking-widest"},he={class:"flex flex-col ml-3 tooltip","data-tip":"è‡ºç£å­—å½¢æ¨™æº–æ‹†åˆ†"},ve={class:"flex justify-center gap-1 font-mono text-sm opacity-70 text-gray-600 dark:text-gray-400"},ge={class:"text-indigo-800 dark:text-indigo-300"},me={class:"font-mono tracking-widest"},fe={key:4,class:"invisible group-hover:visible flex justify-center items-center dark:opacity-55 opacity-100"},pe=["href"],ye=["src"],Ae=["href"],we=["src"],ke=["href"],xe=["src"],Ce=["disabled"],ze=["src"],Ie=L({__name:"Card",props:{chaifen:{},zigenMap:{},rule:{}},setup(u){const i=u,l=B(null),A=B(!0),v=B(!1),h=B(!1),g=x(()=>encodeURIComponent(i.chaifen.char)),m=x(()=>i.chaifen.char.codePointAt(0).toString(16).toUpperCase()),c=x(()=>T(i.chaifen.division,i.zigenMap,i.rule)),p=x(()=>i.chaifen.division_tw==""?"":T(i.chaifen.division_tw,i.zigenMap,i.rule)),d=a=>a&&a[0].toUpperCase()+a.slice(1),w=x(()=>[...i.chaifen.division].map(t=>{var n;return d(((n=i.zigenMap.get(t))==null?void 0:n.ma)||"?")})),C=x(()=>i.chaifen.division_tw?[...i.chaifen.division_tw].map(t=>{var n;return d(((n=i.zigenMap.get(t))==null?void 0:n.ma)||"?")}):[]);async function z(){if(!(!l.value||v.value)){v.value=!0,A.value=!1,h.value=!0,await U(),await new Promise(a=>setTimeout(a,100));try{(await G(l.value,{backgroundColor:null,scale:2,logging:!1})).toBlob(async t=>{if(!t){alert("ç”Ÿæˆåœ–ç‰‡å¤±æ•—");return}try{await navigator.clipboard.write([new ClipboardItem({"image/png":t})]),console.log("å¡ç‰‡å·²è¤‡è£½åˆ°å‰ªè²¼æ¿")}catch(n){console.error("è¤‡è£½åˆ°å‰ªè²¼æ¿å¤±æ•—ï¼Œæ”¹ç‚ºä¸‹è¼‰:",n);const f=URL.createObjectURL(t),k=document.createElement("a");k.href=f,k.download=`${i.chaifen.char}_${m.value}.png`,document.body.appendChild(k),k.click(),document.body.removeChild(k),URL.revokeObjectURL(f),console.log("åœ–ç‰‡å·²ä¸‹è¼‰")}},"image/png")}catch(a){console.error("æˆªåœ–å¤±æ•—:",a),alert("æˆªåœ–å¤±æ•—")}finally{A.value=!0,h.value=!1,v.value=!1}}}return(a,t)=>(o(),s("div",{ref_key:"cardRef",ref:l,class:Q(["group border p-4 m-2 rounded-3xl shadow-md text-center bg-gray-50 dark:bg-slate-900",{"self-start":h.value}])},[p.value==""?(o(),s("div",Y,[e("span",_,r(u.chaifen.char),1)])):(o(),s("div",$,[e("span",ee,r(u.chaifen.char),1),e("span",te,"Â·"+r(u.chaifen.char),1)])),e("div",ae,r(m.value)+"ãƒ»"+r(u.chaifen.region),1),p.value==""?(o(),s("div",oe,[e("div",se,[(o(!0),s(E,null,S(w.value,(n,f)=>(o(),s("span",{key:f},r(n),1))),128))]),e("div",ie,r(u.chaifen.division),1),e("div",ne,r(c.value),1)])):(o(),s("div",re,[e("div",le,[e("div",ce,[(o(!0),s(E,null,S(w.value,(n,f)=>(o(),s("span",{key:f},r(n),1))),128))]),e("div",de,r(u.chaifen.division),1),e("div",ue,r(c.value),1)]),e("div",he,[e("div",ve,[(o(!0),s(E,null,S(C.value,(n,f)=>(o(),s("span",{key:f},r(n),1))),128))]),e("div",ge,r(u.chaifen.division_tw),1),e("div",me,r(p.value),1)])])),A.value?(o(),s("div",fe,[e("a",{href:"https://zi.tools/zi/"+g.value,class:"",target:"_blank",rel:"noreferrer",title:"å­—çµ±ç¶²æŸ¥è©¢"},[e("img",{src:I(X),alt:"å­—çµ±ç¶²",width:"22"},null,8,ye)],8,pe),e("a",{href:"https://www.zdic.net/hans/"+g.value,class:"",target:"_blank",rel:"noreferrer",title:"æ¼¢å…¸æŸ¥è©¢"},[e("img",{src:I(F),alt:"æ¼¢å…¸ç¶²",width:"22"},null,8,we)],8,Ae),e("a",{href:"https://ctext.org/dictionary.pl?if=gb&char="+g.value,class:"",target:"_blank",rel:"noreferrer",title:"ä¸­åœ‹å“²å­¸æ›¸é›»å­åŒ–è¨ˆåŠƒæŸ¥è©¢"},[e("img",{src:I(Z),alt:"ä¸­åœ‹å“²å­¸æ›¸é›»å­åŒ–è¨ˆåŠƒ",width:"22"},null,8,xe)],8,ke),e("button",{onClick:z,class:"cursor-pointer ml-1",disabled:v.value,title:"è¤‡è£½å¡ç‰‡ç‚ºåœ–ç‰‡"},[e("img",{src:I(N),alt:"è¤‡è£½",width:"22",class:"dark:invert"},null,8,ze)],8,Ce)])):b("",!0)],2))}}),Je={key:0,class:"opacity-40 text-center p-9 tracking-widest"},Be={key:1,class:"flex justify-center flex-wrap my-8"},Ee=L({__name:"Search",props:{chaifenMap:{},zigenMap:{},rule:{},searchParam:{type:Boolean},userInput:{}},emits:["update:userInput"],setup(u,{emit:i}){const l=u,A=i,v=j(),h=y(l.userInput||(v==null?void 0:v.q)||""),g=y();J(()=>l.userInput,d=>{d!==void 0&&d!==h.value&&(h.value=d)},{immediate:!0}),J(h,d=>{A("update:userInput",d)},{immediate:!1}),D(h,()=>{const d=h.value;l.searchParam&&(v.q=d),g.value=[...d].filter(w=>l.chaifenMap.has(w))},{throttle:300,immediate:!0});let m=["å°æ¨“ä¸€å¤œè½æ˜¥é›¨ã€€æ·±å··æ˜Žæœè³£æèŠ±","ä¼‘å°æ•…äººæ€æ•…åœ‹ã€€ä¸”å°‡æ–°ç«è©¦æ–°èŒ¶","ä¸‰ååŠŸåå¡µèˆ‡åœŸã€€å…«åƒé‡Œè·¯é›²å’Œæœˆ","è½èŠ±äººç¨ç«‹ã€€å¾®é›¨ç‡•é›™é£›","çŽ²ç“éª°å­å®‰ç´…è±†ã€€å…¥éª¨ç›¸æ€çŸ¥ä¸çŸ¥","å…©æƒ…è‹¥æ˜¯ä¹…é•·æ™‚ã€€åˆè±ˆåœ¨æœæœæš®æš®","èº«ç„¡å½©é³³é›™é£›ç¿¼ã€€å¿ƒæœ‰éˆçŠ€ä¸€é»žé€š","è‡ªåœ¨é£›èŠ±è¼•ä¼¼å¤¢ã€€ç„¡é‚Šçµ²é›¨ç´°å¦‚æ„","é†‰å¾Œä¸çŸ¥å¤©åœ¨æ°´ã€€æ»¿èˆ¹æ¸…å¤¢å£“æ˜Ÿæ²³","æ±é¢¨å¤œæ”¾èŠ±åƒæ¨¹ã€€æ›´å¹è½ã€€æ˜Ÿå¦‚é›¨","é³³è•­è²å‹•ã€€çŽ‰å£¸å…‰è½‰ã€€ä¸€å¤œé­šé¾èˆž","çˆ²å›æŒé…’å‹¸æ–œé™½ã€€ä¸”å‘èŠ±é–“ç•™æ™šç…§","ç¶ æ¥Šç…™å¤–æ›‰å¯’è¼•ã€€ç´…ææžé ­æ˜¥æ„é¬§","åŸŽä¸­æ¡ƒæŽæ„é¢¨é›¨ã€€æ˜¥åœ¨æºªé ­è–ºèœèŠ±","æœªæ˜¯ç§‹å…‰å¥‡ç»ã€€çœ‹åäº”åå…­"];const c=Math.floor(Math.random()*m.length),p=m[c];return(d,w)=>h.value?(o(),s("div",Be,[(o(!0),s(E,null,S(g.value,C=>(o(),M(Ie,{key:C,chaifen:u.chaifenMap.get(C),zigenMap:u.zigenMap,rule:l.rule},null,8,["chaifen","zigenMap","rule"]))),128))])):(o(),s("div",Je,r(I(p)),1))}}),Se={class:"input input-bordered bg-gray-100 dark:bg-slate-800 flex items-center gap-2 mt-2"},Re={key:0,class:"text-gray-600 text-center py-4"},be={key:1,class:"alert alert-error mt-2"},Le={key:3,class:"opacity-40 text-center p-9 tracking-widest"},Oe={key:4,class:"text-gray-500 text-center py-4"},Ue=L({__name:"FetchSearch",props:{chaifenUrl:{},zigenUrl:{},rule:{},modelValue:{}},emits:["update:modelValue"],setup(u,{emit:i}){const l=u,A=i,v=y(),h=y(),g=y(!1),m=y(!1),c=y(l.modelValue||""),p=y(null),d=["å°æ¨“ä¸€å¤œè½æ˜¥é›¨ã€€æ·±å··æ˜Žæœè³£æèŠ±","ä¼‘å°æ•…äººæ€æ•…åœ‹ã€€ä¸”å°‡æ–°ç«è©¦æ–°èŒ¶","ä¸‰ååŠŸåå¡µèˆ‡åœŸã€€å…«åƒé‡Œè·¯é›²å’Œæœˆ","è½èŠ±äººç¨ç«‹ã€€å¾®é›¨ç‡•é›™é£›","çŽ²ç“éª°å­å®‰ç´…è±†ã€€å…¥éª¨ç›¸æ€çŸ¥ä¸çŸ¥","å…©æƒ…è‹¥æ˜¯ä¹…é•·æ™‚ã€€åˆè±ˆåœ¨æœæœæš®æš®","èº«ç„¡å½©é³³é›™é£›ç¿¼ã€€å¿ƒæœ‰éˆçŠ€ä¸€é»žé€š","è‡ªåœ¨é£›èŠ±è¼•ä¼¼å¤¢ã€€ç„¡é‚Šçµ²é›¨ç´°å¦‚æ„","é†‰å¾Œä¸çŸ¥å¤©åœ¨æ°´ã€€æ»¿èˆ¹æ¸…å¤¢å£“æ˜Ÿæ²³","æ±é¢¨å¤œæ”¾èŠ±åƒæ¨¹ã€€æ›´å¹è½ã€€æ˜Ÿå¦‚é›¨","é³³è•­è²å‹•ã€€çŽ‰å£¸å…‰è½‰ã€€ä¸€å¤œé­šé¾èˆž","çˆ²å›æŒé…’å‹¸æ–œé™½ã€€ä¸”å‘èŠ±é–“ç•™æ™šç…§","ç¶ æ¥Šç…™å¤–æ›‰å¯’è¼•ã€€ç´…ææžé ­æ˜¥æ„é¬§","åŸŽä¸­æ¡ƒæŽæ„é¢¨é›¨ã€€æ˜¥åœ¨æºªé ­è–ºèœèŠ±","æœªæ˜¯ç§‹å…‰å¥‡ç»ã€€çœ‹åäº”åå…­","ç„¡å¯å¥ˆä½•èŠ±è½åŽ»ã€€ä¼¼æ›¾ç›¸è­˜ç‡•æ­¸ä¾†","ä½†é¡˜äººé•·ä¹…ã€€åƒé‡Œå…±å¬‹å¨Ÿ","å¤§æ±Ÿæ±åŽ»ã€€æµªæ·˜ç›¡åƒå¤é¢¨æµäººç‰©","æ˜Žæœˆå¹¾æ™‚æœ‰ã€€æŠŠé…’å•é’å¤©","ä¸€è“‘ç…™é›¨ä»»å¹³ç”Ÿã€€ä¹Ÿç„¡é¢¨é›¨ä¹Ÿç„¡æ™´","ç¸±è±†è”»è©žå·¥ã€€é’æ¨“å¤¢å¥½ã€€é›£è³¦æ·±æƒ…","è¡£å¸¶æ¼¸å¯¬çµ‚ä¸æ‚”ã€€ç‚ºä¼Šæ¶ˆå¾—äººæ†”æ‚´","é†‰è£å³éŸ³ç›¸åªšå¥½ã€€ç™½é«®èª°å®¶ç¿åª¼"],w=x(()=>{const a=Math.floor(Math.random()*d.length);return d[a]});J(()=>l.modelValue,a=>{a!==void 0&&a!==c.value&&(c.value=a,a.trim().length>0&&!m.value&&z())},{immediate:!0}),J(c,a=>{A("update:modelValue",a),a.trim().length>0&&!m.value&&z()}),J([m,c],([a,t])=>{a&&t&&t.trim().length>0&&console.log(`ðŸ” Data loaded, ready to search for: "${t}"`)});const C=H.getInstance(l.chaifenUrl);async function z(){if(m.value||g.value)return;g.value=!0,p.value=null;const a=performance.now();try{const[t,n]=await Promise.all([C.loadData(),P(l.zigenUrl)]),f=new Map;for(const[O,R]of Object.entries(t))f.set(O,{char:O,division:R.d||"",division_tw:R.dt||"",region:R.r||""});v.value=f,h.value=n,m.value=!0;const k=performance.now()-a;console.log(`ðŸš€ Search data loaded in ${k.toFixed(2)}ms`),console.log(`ðŸ“¦ Characters: ${f.size}`),console.log(`ðŸ“ Source: ${l.chaifenUrl}`)}catch(t){console.error("Failed to load search data:",t),p.value=t instanceof Error?t.message:"Unknown error"}finally{g.value=!1}}return K(()=>{c.value.trim().length>0&&z()}),(a,t)=>(o(),s("div",null,[e("label",Se,[q(e("input",{"onUpdate:modelValue":t[0]||(t[0]=n=>c.value=n),type:"text",class:"grow",placeholder:"æŸ¥è©¢åè¬ä¸€åƒä¹ç™¾å…«åå››å€‹æ¼¢å­—ä¹‹æ‹†åˆ†ç·¨ç¢¼"},null,512),[[V,c.value]]),t[2]||(t[2]=e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor",class:"h-4 w-4 opacity-70"},[e("path",{"fill-rule":"evenodd",d:"M9.965 11.026a5 5 0 1 1 1.06-1.06l2.755 2.754a.75.75 0 1 1-1.06 1.06l-2.755-2.754ZM10.5 7a3.5 3.5 0 1 1-7 0 3.5 3.5 0 0 1 7 0Z","clip-rule":"evenodd"})],-1))]),g.value?(o(),s("div",Re,[...t[3]||(t[3]=[e("div",{class:"loading loading-spinner loading-sm mr-2"},null,-1),W(" æ­£åœ¨åŠ è¼‰æ‹†åˆ†æ•¸æ“šâ€¦â€¦ ",-1)])])):p.value?(o(),s("div",be,[t[4]||(t[4]=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"stroke-current shrink-0 h-6 w-6",fill:"none",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),e("span",null,"åŠ è¼‰å¤±æ•—ï¼š"+r(p.value),1)])):b("",!0),m.value&&v.value&&h.value?(o(),M(Ee,{key:2,chaifenMap:v.value,zigenMap:h.value,rule:l.rule,userInput:c.value,"onUpdate:userInput":t[1]||(t[1]=n=>c.value=n)},null,8,["chaifenMap","zigenMap","rule","userInput"])):!c.value.trim()&&!g.value&&!p.value?(o(),s("div",Le,r(w.value),1)):c.value.trim().length>0&&!g.value?(o(),s("div",Oe," é–‹å§‹è¼¸å…¥ä»¥æŸ¥çœ‹æ‹†åˆ†â€¦â€¦ ")):b("",!0)]))}});export{Ue as _};
