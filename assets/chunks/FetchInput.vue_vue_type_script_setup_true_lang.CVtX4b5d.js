import{g as ge,d as G,c as m,o as h,F as P,r as K,m as i,C as M,t as x,h as S,k as L,v as V,l as ne,R as he,y as me,a3 as be,a4 as xe,b as ae,e as O,n as B,p as ee,_ as ke,E as we,w as ye}from"./framework.BxNfcVMo.js";function _e(l){return l==="ling"?{pop:0,len:4,autoCm:4,cm1:" ",cm2:";",cm3:"'",keys:26}:{pop:0,len:4,autoCm:5,cm1:" ",cm2:";",cm3:"'",keys:26}}let te=!1;async function Ce(){if(window.pako||te)return window.pako;try{const l=document.createElement("script");return l.src="https://cdnjs.cloudflare.com/ajax/libs/pako/2.1.0/pako.min.js",l.crossOrigin="anonymous",await new Promise((a,o)=>{l.onload=a,l.onerror=o,document.head.appendChild(l)}),te=!0,window.pako}catch(l){return console.warn("Failed to load pako library:",l),null}}async function $e(l){const a=await Se(l);return new TextDecoder("utf-8").decode(a)}async function Se(l){try{const a=await Ce();if(a){console.log("üì¶ Using pako for gzip decompression");const f=new Uint8Array(l);return a.inflate(f).buffer}if(console.log("üåê Using browser DecompressionStream for gzip decompression"),typeof DecompressionStream>"u")throw new Error("DecompressionStream not supported and pako not available");const s=new ReadableStream({start(f){f.enqueue(new Uint8Array(l)),f.close()}}).pipeThrough(new DecompressionStream("gzip")),v=[],r=s.getReader();for(;;){const{done:f,value:k}=await r.read();if(f)break;v.push(k)}const b=v.reduce((f,k)=>f+k.length,0),p=new Uint8Array(b);let d=0;for(const f of v)p.set(f,d),d+=f.length;return p.buffer}catch(a){throw console.error("Failed to decompress gzip data:",a),new Error(`Gzip decompression failed: ${a.message}`)}}async function Le(l,a){console.log("ÂºÄÂßãËé∑ÂèñÁ†ÅË°®:",l);const o=await fetch(ge(l));if(!o.ok)throw new Error(`Failed to fetch mabiao: ${o.status}`);const s=await o.arrayBuffer(),v=o.headers.get("content-type")||"";console.log("ÂìçÂ∫îÁ±ªÂûã:",v,"Êï∞ÊçÆÂ§ßÂ∞è:",s.byteLength);const r=l.endsWith(".json")||v.includes("application/json");let b;if(r){console.log("Ê£ÄÊµãÂà∞JSONÊ†ºÂºèÔºåÂºÄÂßãËß£ÂéãÁº©..."),b=await $e(s);const p=JSON.parse(b),d=Object.entries(p);console.log("JSONËß£ÊûêÂÆåÊàêÔºåÊù°ÁõÆÊï∞:",d.length),a&&(a.value.max=d.length,a.value.current=d.length);const f=[];for(const[k,g]of d)if(Array.isArray(g))for(const T of g)f.push({name:String(T),key:k});else f.push({name:String(g),key:k});return f.sort((k,g)=>k.key.localeCompare(g.key)),console.log("ËΩ¨Êç¢ÂÆåÊàêÔºåËøîÂõû",f.length,"‰∏™Êù°ÁõÆ"),f}else{b=new TextDecoder("utf-8").decode(s),console.log("TSVÊï∞ÊçÆÈïøÂ∫¶:",b.length);const p=b.split(`
`).filter(d=>d.trim()!=="");return a&&(a.value.max=p.length),p.map((d,f)=>{a&&(a.value.current=f+1);const[k,g]=d.split("	");return{name:g,key:k}})}}function le(l,a){return l===a?0:l<a?-1:1}function Pe(l,a){if(a==="")return[0,l.length];const o=J(l,a,0,se);if(o<0)return null;const s=J(l,a,o,De);return s<0?null:[o,s]}function H(l,a){const o=J(l,a,0,se);return o<0||!l[o].key.startsWith(a)?null:o}function J(l,a,o,s){let v=o;const r=s(l,a,v);if(r===0)return v;if(r<0)return-1;let b=l.length-1;const p=s(l,a,b);if(p===0)return b+1;if(p>0)return-1;let d=v+(b-v)/2|0,f=s(l,a,d);for(;f!==0;){if(b-v===1)return b;f>0?v=d:b=d,d=v+(b-v)/2|0,f=s(l,a,d)}return d}function se(l,a,o){const s=q(l[o],a),v=o===0?!1:q(l[o-1],a);return s?v?-1:0:v?-1:le(a,l[o].key)}function De(l,a,o){const s=q(l[o],a);if(s&&o===l.length-1)return 0;const v=o===0?!1:q(l[o-1],a);return s?1:v?0:le(a,l[o].key)}function q(l,a){return!l||!l.key?!1:l.key.startsWith(a,0)}const Ie={class:"text-xl bg-neutral-50 dark:bg-neutral-900 w-full text-slate-900 dark:text-slate-400 select-none"},Be={class:"flex min-h-9 h-9 text-base bg-neutral-100 dark:bg-neutral-800 pt-1 break-keep text-nowrap w-full"},je={class:"grid grid-cols-10 gap-0.5 p-1"},Me=["onClick"],Te=["onClick"],ze=["onClick"],Ae={class:"grid grid-cols-10 gap-0.5 p-1 pt-0"},Ue=G({__name:"Keyboard",emits:["click"],setup(l){return(a,o)=>(h(),m(P,null,[K(a.$slots,"codes"),i("div",Ie,[i("div",Be,[K(a.$slots,"cadidate")]),i("div",je,[(h(),m(P,null,M("qwertyuiop",s=>i("button",{key:s,class:"aspect-square hover:bg-slate-300 hover:dark:bg-slate-800 flex items-center justify-center",onClick:v=>a.$emit("click",s)},x(s),9,Me)),64)),(h(),m(P,null,M("asdfghjkl;",s=>i("button",{key:s,class:"aspect-square hover:bg-slate-300 hover:dark:bg-slate-800 flex items-center justify-center",onClick:v=>a.$emit("click",s)},x(s),9,Te)),64)),(h(),m(P,null,M("zxcvbnm,./",s=>i("button",{key:s,class:"aspect-square hover:bg-slate-300 hover:dark:bg-slate-800 flex items-center justify-center",onClick:v=>a.$emit("click",s)},x(s),9,ze)),64))]),i("div",Ae,[i("button",{class:"col-span-2 hover:bg-slate-300 hover:dark:bg-slate-800 py-3 text-sm text-neutral-500 border rounded flex items-center justify-center",onClick:o[0]||(o[0]=s=>a.$emit("click","toggle-lang"))}," ‰∏≠/Ëã± "),i("button",{class:"col-span-6 hover:bg-slate-300 hover:dark:bg-slate-800 py-3 text-sm text-neutral-500 rounded flex items-center justify-center",onClick:o[1]||(o[1]=s=>a.$emit("click"," "))}," Á©∫Ê†º "),i("button",{class:"col-span-2 text-neutral-400 hover:bg-slate-300 hover:dark:bg-slate-800 flex justify-center items-center rounded",onClick:o[2]||(o[2]=s=>a.$emit("click","bs"))},[...o[3]||(o[3]=[i("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24"},[i("path",{fill:"currentColor",d:"M22 3H7c-.69 0-1.23.35-1.59.88L0 12l5.41 8.11c.36.53.9.89 1.59.89h15a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2m-3 12.59L17.59 17L14 13.41L10.41 17L9 15.59L12.59 12L9 8.41L10.41 7L14 10.59L17.59 7L19 8.41L15.41 12"})],-1)])])])])],64))}}),Ne={class:"pt-3"},Ee={class:"relative w-full"},Ve={class:"flex justify-end mb-2 space-x-2"},Ke={class:"flex items-center space-x-2"},qe={key:0,class:"h-4"},We={key:1,class:"text-xs bg-neutral-200 dark:bg-neutral-900 w-max px-2 h-4 select-none"},Fe={key:0,class:"flex items-center min-h-[3.5rem] h-[3.5rem]"},Oe={key:0,class:"text-sm text-slate-500 ml-6 mt-1"},He={key:0},Je={key:1},Ge={key:1,class:"text-sm text-slate-400 dark:text-slate-500 ml-6 mt-1"},Ze={class:"relative flex items-center min-h-[3.5rem] border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-800 shadow-sm",ref:"candidateContainer"},Qe={class:"flex-1 min-w-0 overflow-x-auto overflow-y-hidden scrollbar-hide",style:{"scrollbar-width":"none","-ms-overflow-style":"none"}},Re={class:"flex"},Xe=["onClick"],Ye={class:"text-xs text-slate-400 dark:text-slate-500"},et={class:"text-xl select-text px-2 text-slate-900 dark:text-slate-200"},tt={class:"text-base text-blue-400 dark:text-blue-500 mt-0"},nt={class:"flex items-center mx-2 space-x-1"},at=["disabled"],lt=["disabled"],st={key:0,class:"absolute top-full left-0 right-0 bg-white dark:bg-slate-800 border border-slate-300 dark:border-slate-600 rounded-lg shadow-lg z-[9999] p-4 mt-2"},ot={class:"flex justify-between items-center mb-2"},rt={class:"text-sm text-slate-500"},ut={class:"flex space-x-2"},it=["disabled"],ct={class:"text-sm text-slate-500 px-2 py-1"},dt=["disabled"],vt={class:"flex flex-wrap gap-2 max-h-64 overflow-y-auto"},ft=["onClick"],pt={class:"text-slate-900 dark:text-slate-200 font-medium text-lg leading-tight"},gt={key:0,class:"text-xs text-slate-400 mt-1"},ht={class:"text-xs text-blue-400 dark:text-blue-500 mt-1 truncate max-w-full"},I=9,j=24,mt=G({__name:"InputMethod",props:{id:{},data:{},rule:{}},setup(l){const a=l,o=a.data;console.log("üéØ InputMethod loaded with",o.length,"items");const s=S(!0),v=S(!1),r=S(""),b=[",",".","!","?","[","]","{","}","(",")","\\"],p=L(()=>{if(!s.value)return[];const t=r.value;if(!t)return[];const e=Pe(o,t);if(!e)return[];let n=o.slice(e[0],e[1]);const c=n.filter(C=>C.key===t);let u=n.filter(C=>{const w=C.key;if(w===t||!w.startsWith(t))return!1;const N=w.slice(t.length);return N.length===1&&"aeiou".includes(N)});return u=u.filter(C=>{const w=C.name.charCodeAt(0);return w>=19968&&w<=40959||w>=13312&&w<=19903||w>=12288&&w<=12351||w>=12544&&w<=12591||w>=12704&&w<=12735}),[...c,...u]}),d=S(0),f=S(!1),k=S(!1),g=L(()=>{if(p.value.length===0)return[];const t=d.value*I;return p.value.slice(t,t+I)}),T=L(()=>d.value<1),Z=L(()=>d.value>=Math.ceil(p.value.length/I)-1),y=S(0),oe=L(()=>{if(!r.value)return[];const t=r.value,e=o.filter(u=>u.key&&u.key.startsWith(t)),n=y.value*j,c=Math.min(n+j,e.length);return e.slice(n,c)}),z=L(()=>{if(!r.value)return 0;const t=r.value,e=o.filter(n=>n.key&&n.key.startsWith(t));return e.length===0?0:Math.ceil(e.length/j)});L(()=>p.value.length>I);function re(){y.value<z.value-1&&y.value++}function ue(){y.value>0&&y.value--}const D=S(""),A=S();function $(t){_(t),r.value="",d.value=0}function U(t){r.value&&g.value.length>0&&$(g.value[0].name),_(t)}function ie(t){if(console.log("[onClick] key:",t),t==="toggle-lang"){s.value=!s.value,s.value||(r.value=""),console.log("ËØ≠Ë®ÄÊ®°ÂºèÂàáÊç¢:",s.value?"‰∏≠Êñá":"Ëã±Êñá");return}if(!s.value&&t!=="bs"&&t!==" "){console.log("Ëã±ÊñáÊ®°ÂºèËº∏ÂÖ•Â≠óÁ¨¶:",t),_(t);return}if(t==="bs"){r.value?r.value=r.value.slice(0,-1):D.value.length>0&&(D.value=D.value.slice(0,-1));return}if(t===" "){if(!s.value){_(" ");return}r.value?g.value.length>0?$(g.value[0].name):(r.value="",d.value=0):_(" ");return}if(t===";"){r.value&&g.value.length>=2?$(g.value[1].name):_(t);return}if(t==="'"){r.value&&g.value.length>=3?$(g.value[2].name):_(t);return}if(t==='"'){U(t);return}if(b.includes(t)){U(t);return}if(s.value){let e=t;/^[A-Z]$/.test(t)&&(e=t.toLowerCase()),R(e),r.value+=e,d.value=0}else _(t)}function ce(t){if(console.log("[convertToChinese] called:",{words:t,isChineseMode:s.value}),!s.value)return t;let e="";for(let n=0;n<t.length;n++){const c=t[n];switch(c){case",":e+="Ôºå";break;case".":e+="„ÄÇ";break;case";":e+="Ôºõ";break;case"!":e+="ÔºÅ";break;case"?":e+="Ôºü";break;case"\\":e+="„ÄÅ";break;case"[":e+="„Äå";break;case"]":e+="„Äç";break;case"{":e+="„Äé";break;case"}":e+="„Äè";break;case'"':v.value,e+='"',v.value=!v.value;break;case"'":e+="'";break;default:e+=c;break}}return e}function _(t){const e=ce(t),n=A.value;n.focus();const{selectionStart:c,selectionEnd:u}=n,C=n.value;if(console.log("commit Ë™øÁî®:",{words:e,selectionStart:c,selectionEnd:u,currentValue:C.slice(0,20)+(C.length>20?"...":""),textLength:C.length}),c===C.length&&u===C.length){const F=C+e;D.value=F,n.value=F;const Y=F.length;n.selectionStart=Y,n.selectionEnd=Y;return}const w=C.slice(0,c||0),N=C.slice(u||c||0),E=w+e+N;D.value=E,n.value=E;const W=(c||0)+e.length;n.selectionStart=W,n.selectionEnd=W,console.log("commit ÂÆåÊàê:",{newValue:E.slice(0,20)+(E.length>20?"...":""),newCursorPosition:W})}function Q(t){$(t.name)}function de(){}function ve(){}V(p,t=>{if(d.value=0,y.value=0,t.length===1&&r.value){const e=r.value,n=a.rule.autoCm;(e.length>=n||"aeiou".includes(e.at(-1)))&&(console.log("Ê™¢Ê∏¨Âà∞ÂîØ‰∏ÄÂÄôÈÅ∏È†ÖÔºåËá™Âãï‰∏äÂ±è:",t[0].name),$(t[0].name))}},{immediate:!0}),V(r,()=>{d.value=0,y.value=0}),ne(()=>{he(()=>{A.value&&A.value.focus()})}),me(()=>{}),V(p,t=>{if(t.length>0)return;const e=a.rule.autoCm;let n=r.value;if(n.length<e+1)return;let c=null;do{if(n=n.slice(0,-1),n.length===0)return;c=H(o,n)}while(c===null);const u=o[c];_(u.name),r.value=r.value.at(-1)||""}),V(r,t=>{const e=a.rule.pop,n=a.rule.autoCm;if(t.length>n)if(e){const c=H(a.data,t.slice(0,e));if(c===null)return;const u=a.data[c];_(u.name),r.value=r.value.slice(e)}else{const c=H(a.data,t.slice(0,n));if(c!==null){const u=a.data[c];_(u.name)}r.value=r.value.slice(n)}});function R(t){const e=r.value;if(!e)return;const n=p.value;if(n.length===0)return;console.log("checkAutoCommit Ë∞ÉÁî®:",{ÂΩìÂâçÁºñÁ†Å:e,Âç≥Â∞ÜÊ∑ªÂä†:t,Êñ∞ÁºñÁ†Å:e+t,ÂΩìÂâçÂÄôÈÄâÊï∞Èáè:n.length,ÂΩìÂâçÂÄôÈÄâÈ°π:n.map(u=>u.name).slice(0,5)});const c=a.rule.autoCm;if(n.length===1){const u=r.value;if(u.length>=c||"aeiou".includes(u.at(-1))){console.log("ÂΩìÂâçÂÄôÈÄâÈ°πÂîØ‰∏ÄÔºå‰∏äÂ±è:",n[0].name),$(n[0].name);return}}if(n.length>1){if(e.length>=c){console.log(`Áï∂ÂâçÁ∑®Á¢ºÈÅîÂà∞${c}Á¢ºÔºåÂç≥Â∞áËº∏ÂÖ•Á¨¨${c+1}Á¢ºÔºå‰∏äÂ±èÈ¶ñÈÅ∏:`,n[0].name),$(n[0].name);return}const u=e[e.length-1];if("aeiou".includes(u)){console.log("Áï∂ÂâçÁ∑®Á¢ºÂÖÉÈü≥ÁµêÂ∞æÔºå‰∏äÂ±èÈ¶ñÈÅ∏:",{Á∑®Á¢º:e,ÁµêÂ∞æÂ≠óÁ¨¶:u,È¶ñÈÅ∏:n[0].name}),$(n[0].name);return}}console.log("ÁÑ°ÈúÄ‰∏äÂ±è")}const fe=new Set(`abcdefghijklmnopqrstuvwxyz/;'",.[]{}!?\\${a.rule.keys===27?";":""}`),X=L(()=>{const{cm1:t,cm2:e,cm3:n}=a.rule,c=new Map;c.set(t,0),c.set(e,1),c.set(n,2);for(let u=0;u<9;u++)c.set(String(u+1),u);return c});function pe(t){const{key:e}=t;if(e==="ArrowUp"&&p.value.length>0){t.preventDefault(),t.stopPropagation(),d.value>0&&d.value--;return}if(e==="ArrowDown"&&p.value.length>0){t.preventDefault(),t.stopPropagation();const u=I;(d.value+1)*u<p.value.length&&d.value++;return}if(t.ctrlKey||t.metaKey||t.altKey)return;const n=r.value;if(fe.has(e)){if(t.preventDefault(),t.stopPropagation(),e===";"){r.value&&g.value.length>=2?$(g.value[1].name):_(e);return}if(e==="'"){r.value&&g.value.length>=3?$(g.value[2].name):_(e);return}if(e==='"'){U(e);return}if(b.includes(e)){U(e);return}if(!s.value){console.log("Áâ©ÁêÜÈçµÁõ§Ëã±ÊñáÊ®°ÂºèËº∏ÂÖ•:",e),_(e);return}let u=e;/^[A-Z]$/.test(e)&&(u=e.toLowerCase()),R(u),r.value+=u,d.value=0;return}if(e===" "){if(!s.value)return;n&&(t.preventDefault(),t.stopPropagation(),g.value.length>0?$(g.value[0].name):(r.value="",d.value=0));return}if(X.value.has(e)&&e!==" "){const u=X.value.get(e);u<g.value.length&&(t.preventDefault(),t.stopPropagation(),$(g.value[u].name));return}if(e==="Backspace"){n&&(t.preventDefault(),t.stopPropagation(),r.value=n.slice(0,-1));return}if(e==="Escape"&&n){t.preventDefault(),t.stopPropagation(),r.value="";return}const c=d.value;if(e==="-"&&n){t.preventDefault(),t.stopPropagation(),c>0&&d.value--;return}if(e==="="&&n){t.preventDefault(),t.stopPropagation();const u=I;c+1<p.value.length/u&&d.value++;return}}return(t,e)=>(h(),m(P,null,[i("div",Ne,[be(i("textarea",{"onUpdate:modelValue":e[0]||(e[0]=n=>D.value=n),ref_key:"textarea",ref:A,class:"textarea textarea-bordered textarea-md w-full bg-neutral-50 dark:bg-neutral-700",placeholder:"Ëº∏ÂÖ•Êï∏ÊìöÂú®Êú¨Âú∞ÂàÜÊûêÂä†ËºâÔºå‰∏çÊúÉ‰∏äÂÇ≥Èõ≤Á´Ø„ÄÇ",onKeydown:pe,onFocus:de,onBlur:ve},null,544),[[xe,D.value]])]),i("div",Ee,[i("div",Ve,[i("button",{onClick:e[1]||(e[1]=n=>k.value=!k.value),class:"px-3 py-1 rounded bg-purple-100 dark:bg-purple-900 text-purple-800 dark:text-purple-200 text-xs"},x(k.value?"Èö±ËóèÊõ¥Â§öÂÄôÈÅ∏Ê°Ü":"È°ØÁ§∫Êõ¥Â§öÂÄôÈÅ∏È†Ö"),1),i("button",{onClick:e[2]||(e[2]=n=>f.value=!f.value),class:"px-3 py-1 rounded bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200 text-xs"},x(f.value?"Êî∂Ëµ∑ÈçµÁõ§":"È°ØÁ§∫ÈçµÁõ§"),1)]),i("div",null,[i("div",Ke,[i("div",{class:B(["text-xs px-2 h-4 rounded select-none",s.value?"bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200":"bg-gray-100 dark:bg-gray-900 text-gray-800 dark:text-gray-200"])},x(s.value?"‰∏≠":"Ëã±"),3),r.value===""?(h(),m("div",qe)):(h(),m("div",We,x(r.value),1))]),p.value.length===0?(h(),m("div",Fe,[r.value.length===0?(h(),m("div",Oe,[K(t.$slots,"default",{},()=>[s.value?(h(),m("span",He,"‰∏≠ÊñáËº∏ÂÖ•Ê®°ÂºèÔºåË®òÂæóÈóúÈñâÁ≥ªÁµ±Ëº∏ÂÖ•Ê≥ï")):(h(),m("span",Je,"Ëã±ÊñáËº∏ÂÖ•Ê®°ÂºèÔºåË®òÂæóÈóúÈñâÁ≥ªÁµ±Ëº∏Ê≥ï"))],!0)])):(h(),m("div",Ge,"Á©∫Á†Å"))])):(h(),m(P,{key:1},[i("div",Ze,[i("div",Qe,[i("div",Re,[(h(!0),m(P,null,M(g.value,(n,c)=>(h(),m("button",{class:"px-3 py-2 text-base hover:bg-slate-200 dark:hover:bg-slate-900 whitespace-nowrap flex-shrink-0 rounded flex flex-col items-center",onClick:u=>Q(n)},[i("span",Ye,x(c+1),1),i("span",et,x(n.name),1),i("span",tt,x(n.key.slice(r.value.length)),1)],8,Xe))),256))])]),i("div",nt,[i("button",{class:B([{"text-transparent":T.value},"hover:bg-slate-200 dark:hover:bg-slate-700 rounded px-1"]),disabled:T.value,onClick:e[3]||(e[3]=n=>d.value--)},"‚óÇ",10,at),i("button",{class:B([{"text-transparent":Z.value},"hover:bg-slate-200 dark:hover:bg-slate-700 rounded px-1"]),disabled:Z.value,onClick:e[4]||(e[4]=n=>d.value++)},"‚ñ∏",10,lt)])],512),k.value?(h(),m("div",st,[i("div",ot,[i("div",rt," ÂÄôÈÅ∏Â≠ó "+x(y.value*j+1)+"-"+x(Math.min((y.value+1)*j,p.value.length))+" / "+x(p.value.length),1),i("div",ut,[i("button",{disabled:y.value===0,class:B([{"text-slate-300":y.value===0},"px-2 py-1 text-sm hover:bg-slate-100 dark:hover:bg-slate-700 rounded"]),onClick:ue}," ‚Üê ‰∏ä‰∏ÄÈ†Å ",10,it),i("span",ct,x(y.value+1)+" / "+x(z.value),1),i("button",{disabled:y.value>=z.value-1,class:B([{"text-slate-300":y.value>=z.value-1},"px-2 py-1 text-sm hover:bg-slate-100 dark:hover:bg-slate-700 rounded"]),onClick:re}," ‰∏ã‰∏ÄÈ†Å ‚Üí ",10,dt)])]),i("div",vt,[(h(!0),m(P,null,M(oe.value,(n,c)=>(h(),m("button",{key:c,onClick:u=>Q(n),class:"inline-flex flex-col items-center px-3 py-2 hover:bg-slate-100 dark:hover:bg-slate-700 rounded border border-slate-200 dark:border-slate-600 min-w-0"},[i("div",pt,x(n.name),1),n.name&&ee(o).filter(u=>u.name===n.name).length>1?(h(),m("div",gt,[i("span",null,x(ee(o).filter(u=>u.name===n.name).map(u=>u.key).sort().join(" ")),1)])):O("",!0),i("div",ht,x(n.key),1)],8,ft))),128))])])):O("",!0)],64))]),f.value?(h(),ae(Ue,{key:0,onClick:ie,onHideKeyboard:e[5]||(e[5]=n=>f.value=!1)})):O("",!0)])],64))}}),bt=ke(mt,[["__scopeId","data-v-edd3148e"]]),xt={key:0,class:"text-gray-600 text-center mt-10"},kt=["value","max"],yt=G({__name:"FetchInput",props:{mabiaoUrl:{},id:{},ruleName:{}},setup(l){const a=l,o=we(),s=S({max:0,current:0});return ne(async()=>{var v;try{o.value=await Le(a.mabiaoUrl,s),console.log("‚úÖ Mabiao loaded successfully:",(v=o.value)==null?void 0:v.length,"items")}catch(r){console.error("‚ùå Failed to load mabiao:",r)}}),(v,r)=>o.value?(h(),ae(bt,{key:1,id:l.id||l.mabiaoUrl,rule:_e(a.ruleName),data:o.value},{default:ye(()=>[K(v.$slots,"default")]),_:3},8,["id","rule","data"])):(h(),m("div",xt,[r[0]||(r[0]=i("div",{class:"text-center"},"‰∏ãËΩΩÁ†ÅË°®‚Ä¶‚Ä¶",-1)),i("progress",{class:"progress progress-info w-full max-w-screen-sm",value:s.value.current,max:s.value.max},null,8,kt)]))}});export{yt as _};
