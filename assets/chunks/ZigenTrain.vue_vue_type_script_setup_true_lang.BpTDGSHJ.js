var se=Object.defineProperty;var ne=(S,e,t)=>e in S?se(S,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):S[e]=t;var R=(S,e,t)=>ne(S,typeof e!="symbol"?e+"":e,t);import{b as ae,f as ie}from"./share.D5aqWrzv.js";import{d as te,h as T,l as W,R as U,aa as X,k as j,v as le,c as x,o as y,F as ee,e as G,m as i,t as O,O as ce,n as P,p as D,C as ue,a3 as de,a4 as ge,a as K,a0 as ve,a2 as fe,_ as me,E as Z,H as pe}from"./framework.D5VGNaZP.js";import{f as he}from"./share.BaGPHDUM.js";class oe{constructor(e){R(this,"items",new Map);R(this,"storageKey");R(this,"practiceCount",0);R(this,"NEW_CARD_RATIO",.3);R(this,"INITIAL_INTERVALS",[4,12,36]);R(this,"GRADUATION_THRESHOLD",3);R(this,"EASY_MULTIPLIER",2.5);R(this,"GOOD_MULTIPLIER",2);R(this,"HARD_MULTIPLIER",1.3);this.storageKey=`spaced_repetition_${e}`,this.loadFromStorage()}recordSuccess(e){const t=this.getOrCreateItem(e);if(this.practiceCount++,t.consecutiveCorrect++,t.totalReviews++,t.lastPracticed=this.practiceCount,t.isNew=!1,t.consecutiveCorrect<=this.INITIAL_INTERVALS.length){const o=t.consecutiveCorrect-1;t.currentInterval=this.INITIAL_INTERVALS[o]||this.INITIAL_INTERVALS[this.INITIAL_INTERVALS.length-1]}else t.currentInterval=Math.floor(t.currentInterval*this.GOOD_MULTIPLIER),t.currentInterval=Math.min(t.currentInterval,50);t.nextReviewAt=this.practiceCount+t.currentInterval,this.items.set(e,t),this.saveToStorage()}recordFailure(e){const t=this.getOrCreateItem(e);this.practiceCount++,t.consecutiveCorrect=0,t.totalReviews++,t.errorCount++,t.lastPracticed=this.practiceCount,t.isNew=!1,t.currentInterval=1,t.nextReviewAt=this.practiceCount+t.currentInterval,this.items.set(e,t),this.saveToStorage()}getNext(e){const t=[],o=[];for(const v of e){const d=this.items.get(v.code);d?this.practiceCount>=d.nextReviewAt&&d.consecutiveCorrect<this.GRADUATION_THRESHOLD&&o.push(v):t.push(v)}return o.length>0?o[0]:t.length>0?t[0]:null}calculatePriority(e){let t=1e3;t+=e.errorCount*500;const o=this.practiceCount-e.nextReviewAt;return t+=Math.max(0,o)*100,e.consecutiveCorrect===0&&(t+=200),t}getStats(){let e=0,t=0,o=0;for(const v of this.items.values())v.consecutiveCorrect>=this.GRADUATION_THRESHOLD?e++:v.errorCount>=3?o++:t++;return{total:this.items.size,mastered:e,learning:t,difficult:o}}getItemStats(e){return this.items.get(e)||null}isFirstTime(e){const t=this.items.get(e);return!t||t.isNew||t.totalReviews===0}getCurrentProgress(){const e=this.items.size,o=Math.max(e*4,this.practiceCount+50);return{practiceCount:this.practiceCount,estimatedTotal:o}}getOrCreateItem(e){const t=this.items.get(e);if(t)return t;const o={id:e,nextReviewAt:this.practiceCount+1,consecutiveCorrect:0,totalReviews:0,errorCount:0,lastPracticed:0,isNew:!0,currentInterval:1};return this.items.set(e,o),o}loadFromStorage(){try{const e=localStorage.getItem(this.storageKey);if(e){const t=JSON.parse(e);this.items=new Map(Object.entries(t.items||{})),this.practiceCount=t.practiceCount||0}}catch(e){console.warn("è¼‰å…¥èª¿åº¦æ•¸æ“šå¤±æ•—:",e)}}saveToStorage(){try{const e={items:Object.fromEntries(this.items),practiceCount:this.practiceCount};localStorage.setItem(this.storageKey,JSON.stringify(e))}catch(e){console.warn("ä¿å­˜èª¿åº¦æ•¸æ“šå¤±æ•—:",e)}}reset(){this.items.clear(),this.practiceCount=0,localStorage.removeItem(this.storageKey)}getProgress(){const e=this.items.size,o=Math.max(e*4,this.practiceCount+50);return{practiceCount:this.practiceCount,estimatedTotal:o}}simulate(e=250,t=.1,o=5e3,v=!1){const d=new Map(this.items),N=this.practiceCount;this.items.clear(),this.practiceCount=0,v&&(console.log(`ğŸš€ é–‹å§‹æ¨¡æ“¬ ${e} å€‹é …ç›®çš„å­¸ç¿’éç¨‹`),console.log(`ğŸ“Š éŒ¯èª¤ç‡: ${(t*100).toFixed(1)}%`),console.log(`âš™ï¸ ç®—æ³•åƒæ•¸: é–“éš”=${this.INITIAL_INTERVALS.join(",")}, ç•¢æ¥­é–¾å€¼=${this.GRADUATION_THRESHOLD}`),console.log(""));const w=Array.from({length:e},(c,C)=>({code:`item_${C+1}`}));let f=0;const M=Date.now();for(;f<o;){const c=this.getNext(w);if(!c){const A=Array.from(this.items.values()).filter(r=>r.consecutiveCorrect<this.GRADUATION_THRESHOLD);if(A.length===0){v&&console.log("ğŸ‰ æ‰€æœ‰é …ç›®éƒ½å·²æŒæ¡ï¼");break}else{const r=A.map(n=>n.nextReviewAt).filter(n=>n>this.practiceCount);if(r.length>0){const n=Math.min(...r);this.practiceCount=n,v&&f%100===0&&console.log(`â­ï¸  è·³åˆ°ç·´ç¿’ä½ç½® ${this.practiceCount}`);continue}else break}}if(f++,Math.random()>t?(this.recordSuccess(c.code),v&&f%200===0&&console.log(`âœ… ç·´ç¿’ ${f}: ${c.code} æ­£ç¢º`)):(this.recordFailure(c.code),v&&f%200===0&&console.log(`âŒ ç·´ç¿’ ${f}: ${c.code} éŒ¯èª¤`)),v&&f%500===0){const A=this.getStats(),r=(A.mastered/e*100).toFixed(1);console.log(`ğŸ“ˆ é€²åº¦å ±å‘Š - ç·´ç¿’: ${f}, æŒæ¡: ${A.mastered}/${e} (${r}%)`)}}const b=Date.now(),h=this.getStats(),I=Array.from(this.items.values()),_=I.reduce((c,C)=>c+C.errorCount,0),m=I.reduce((c,C)=>c+C.totalReviews,0)/I.length,p=h.mastered===e,$=p?`å„ªç§€ (${(this.practiceCount/e).toFixed(1)}x)`:`æœªå®Œæˆ (${f}/${o})`;if(v)if(console.log(`
`+"=".repeat(50)),console.log("ğŸ¯ æ¨¡æ“¬æ¸¬è©¦å®Œæˆï¼"),console.log("=".repeat(50)),console.log(`â±ï¸  åŸ·è¡Œæ™‚é–“: ${b-M}ms`),console.log(`ğŸ”¢ ç¸½ç·´ç¿’æ¬¡æ•¸: ${this.practiceCount}`),console.log(`ğŸ“š é …ç›®ç¸½æ•¸: ${e}`),console.log(`ğŸ¯ æŒæ¡æ•¸é‡: ${h.mastered}/${e}`),console.log(`ğŸ“Š å®Œæˆç‡: ${(h.mastered/e*100).toFixed(1)}%`),console.log(`âŒ ç¸½éŒ¯èª¤æ¬¡æ•¸: ${_}`),console.log(`ğŸ”„ å¹³å‡å¾©ç¿’æ¬¡æ•¸: ${m.toFixed(1)}`),console.log(`âš¡ æ•ˆç‡è©•ä¼°: ${$}`),console.log("ğŸ“ˆ å­¸ç¿’çµ±è¨ˆ:"),console.log(`   - å·²æŒæ¡: ${h.mastered}`),console.log(`   - å­¸ç¿’ä¸­: ${h.learning}`),console.log(`   - å›°é›£é …: ${h.difficult}`),p){const c=this.practiceCount/e;console.log(`
âœ¨ çµè«–: å®Œæˆ ${e} å€‹é …ç›®éœ€è¦ç´„ ${this.practiceCount} æ¬¡ç·´ç¿’`),console.log(`ğŸ“Š ç›¸ç•¶æ–¼æ¯å€‹é …ç›®å¹³å‡ ${c.toFixed(1)} æ¬¡ç·´ç¿’`),c<5?console.log("ğŸš€ ç®—æ³•æ•ˆç‡æ¥µä½³ï¼"):c<8?console.log("ğŸ‘ ç®—æ³•æ•ˆç‡è‰¯å¥½ï¼"):console.log("âš ï¸  ç®—æ³•å¯èƒ½éœ€è¦å„ªåŒ–")}else console.log(`
âš ï¸  è­¦å‘Š: åœ¨ ${o} æ¬¡è¿­ä»£å…§æœªå®Œæˆå­¸ç¿’`),console.log("ğŸ’¡ å»ºè­°èª¿æ•´ç®—æ³•åƒæ•¸æˆ–å¢åŠ æœ€å¤§è¿­ä»£æ¬¡æ•¸");return this.items=d,this.practiceCount=N,{completed:p,totalPractices:this.practiceCount,masteredCount:h.mastered,averageReviewsPerItem:m,totalErrors:_,efficiency:$}}quickSimulate(e=250){const t=this.simulate(e,.1,3e3,!1);return{success:t.completed,practices:t.totalPractices,message:t.completed?`âœ… æˆåŠŸï¼${e}å€‹é …ç›®éœ€è¦${t.totalPractices}æ¬¡ç·´ç¿’`:"âŒ å¤±æ•—ï¼éœ€è¦èª¿æ•´ç®—æ³•åƒæ•¸"}}}const xe={key:0,class:"max-w-2xl mx-auto p-6 space-y-6"},ye={class:"relative"},we={class:"text-center text-sm text-gray-600 dark:text-gray-400"},Ce={class:"flex justify-between items-center mb-2"},ke={key:0,class:"text-red-600 dark:text-red-400"},be={class:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2"},Ie={class:"absolute top-4 right-4 flex gap-2 z-10"},_e=["title"],Se={class:"text-center py-12"},Re={key:0,class:"text-sm text-gray-600 dark:text-gray-300 font-mono bg-gray-100 dark:bg-gray-800 px-2 py-1 rounded"},Te={class:"flex justify-center pb-8"},$e={class:"inline-block bg-gray-100 dark:bg-gray-800 px-4 py-2 rounded-lg"},Ae={class:"font-mono text-xl font-bold text-blue-600 dark:text-blue-400"},Le={class:"text-center text-sm text-gray-500 dark:text-gray-400 space-y-1"},Ne={key:0,class:"flex items-center justify-center gap-4"},Oe={key:1,class:"text-blue-600 dark:text-blue-400 font-medium"},Me=te({__name:"TrainCardGroup",props:{name:{},cardGroups:{},chaifenMap:{},mode:{},supplement:{type:Boolean},ming:{type:Boolean},isFrequencyOrder:{type:Boolean},onToggleSort:{type:Function},onReset:{type:Function}},setup(S){const e=S,{name:t,cardGroups:o,mode:v,supplement:d,ming:N,isFrequencyOrder:w,onToggleSort:f,onReset:M}=e;console.log(`è¼‰å…¥åˆ†çµ„ç·´ç¿’æœƒè©±: ${t}`);const b=new oe(t),h=T(0),I=T(),_=T(""),m=T(!1),p=T(!0),$=T(0),c=T(!1),C=T(0),A=()=>{c.value=!0},r=()=>{M&&(M(),c.value=!1,setTimeout(()=>{window.location.reload()},100))},n=()=>{c.value=!1},l=T(typeof window<"u"?window.innerWidth:1024),E=()=>{l.value=window.innerWidth};W(()=>{typeof window<"u"&&window.addEventListener("resize",E),U(()=>{var a;(a=I.value)==null||a.focus()}),document.addEventListener("keydown",V),q()}),X(()=>{typeof window<"u"&&window.removeEventListener("resize",E),document.removeEventListener("keydown",V)});const L=j(()=>{if(!g.value)return"text-8xl";const a=g.value.zigens.length,s=l.value<768,u=l.value<1024;return s?a<=2?"text-6xl":a<=4?"text-5xl":"text-4xl":u?a<=2?"text-8xl":a<=4?"text-7xl":"text-6xl":a<=2?"text-9xl":a<=4?"text-8xl":"text-7xl"}),B=j(()=>{if(!g.value)return"gap-8 lg:gap-12";const a=g.value.zigens.length;return l.value<768?a>4?"gap-3":"gap-4":a>4?"gap-6":"gap-8 lg:gap-12"}),g=j(()=>o[h.value]||null);j(()=>o.length);const z=j(()=>{C.value;const s=b.getStats().total,u=o.length;return{current:s,total:u,percentage:u>0?(s/u*100).toFixed(1):"0"}}),J=j(()=>z.value.percentage);le(_,a=>{if(!g.value)return;const s=a.trim().toLowerCase(),u=g.value.code.toLowerCase();s.length>=u.length&&(s===u?re():m.value||Y())});const re=()=>{g.value&&(p.value=!0,b.recordSuccess(g.value.code),C.value++,q())},Y=()=>{g.value&&(p.value=!1,$.value++,m.value=!0,b.recordFailure(g.value.code),C.value++,_.value="",U(()=>{var a;(a=I.value)==null||a.focus()}))},q=()=>{var u;const a=b.getNext(o);if(a)h.value=o.findIndex(k=>k.code===a.code);else{const k=o.filter(F=>{const H=b.getItemStats(F.code);return!H||H.consecutiveCorrect<3||H.errorCount>0});if(k.length>0){const F=k[Math.floor(Math.random()*k.length)];h.value=o.findIndex(H=>H.code===F.code)}else h.value=Math.floor(Math.random()*o.length)}p.value=!0,$.value=0,_.value="";const s=(u=g.value)==null?void 0:u.code;s&&b.isFirstTime(s)?(m.value=!0,console.log(`å­—æ ¹çµ„ "${s}" ç¬¬ä¸€æ¬¡å‡ºç¾ï¼Œç›´æ¥é¡¯ç¤ºç­”æ¡ˆ`)):m.value=!1,U(()=>{var k;(k=I.value)==null||k.focus()})},V=a=>{a.key==="Escape"&&!m.value&&(Y(),a.preventDefault())},Q=a=>{const s=he(a,e.chaifenMap),u=l.value<768,k=l.value<1024;let F=4;return u?F=2:k&&(F=3),s.slice(0,F).split("").join("")};return W(()=>{U(()=>{var a;(a=I.value)==null||a.focus()}),document.addEventListener("keydown",V),q()}),X(()=>{document.removeEventListener("keydown",V)}),(a,s)=>(y(),x(ee,null,[g.value?(y(),x("div",xe,[i("div",ye,[i("div",we,[i("div",Ce,[i("span",null,"å·²ç·´ç¿’å­—æ ¹çµ„: "+O(z.value.current)+" / "+O(z.value.total)+" (é€²åº¦ "+O(z.value.percentage)+"%)",1),$.value>0?(y(),x("span",ke,"éŒ¯èª¤æ¬¡æ•¸: "+O($.value),1)):G("",!0)]),i("div",be,[i("div",{class:"bg-blue-500 dark:bg-blue-400 h-2 rounded-full transition-all duration-300",style:ce(`width: ${J.value}%`)},null,4)])])]),i("div",{class:P(["w-full shadow-lg rounded-2xl transition-all duration-300 transform relative",{"bg-red-50 border-red-200 dark:bg-red-900/20 dark:border-red-800":!p.value,"bg-blue-50 border-blue-200 dark:bg-blue-900/20 dark:border-blue-800":p.value},"border-2 hover:shadow-xl"])},[i("div",Ie,[D(f)?(y(),x("button",{key:0,onClick:s[0]||(s[0]=()=>{console.log("æ’åºæŒ‰éˆ•è¢«é»æ“Šï¼Œç•¶å‰ç‹€æ…‹:",D(w)),D(f)()}),class:P(["w-8 h-8 rounded-full font-medium transition-all duration-200 flex items-center justify-center text-xs shadow-md",D(w)?"bg-orange-500 hover:bg-orange-600 text-white":"bg-gray-200 hover:bg-gray-300 text-gray-700 dark:bg-gray-700 dark:hover:bg-gray-600 dark:text-gray-200"]),title:D(w)?"å­—é »åº (é»æ“Šåˆ‡æ›åˆ°å­—å…¸åº)":"å­—å…¸åº (é»æ“Šåˆ‡æ›åˆ°å­—é »åº)"},[...s[3]||(s[3]=[i("svg",{class:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 4h13M3 8h9m-9 4h6m4 0l4-4m0 0l4 4m-4-4v12"})],-1)])],10,_e)):G("",!0),D(M)?(y(),x("button",{key:1,onClick:A,class:"w-8 h-8 rounded-full bg-red-500 hover:bg-red-600 text-white font-medium transition-all duration-200 flex items-center justify-center text-xs shadow-md",title:"é‡æ–°é–‹å§‹è¨“ç·´"},[...s[4]||(s[4]=[i("svg",{class:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})],-1)])])):G("",!0)]),i("div",Se,[i("div",{class:P(["flex justify-center items-center flex-wrap mb-12",B.value])},[(y(!0),x(ee,null,ue(g.value.zigens,(u,k)=>(y(),x("div",{key:k,class:"flex flex-col items-center group"},[i("div",{class:P(["mb-4 zigen-font transform transition-all duration-300 group-hover:scale-110",L.value,{"text-red-500 dark:text-red-400":!p.value,"text-blue-700 dark:text-blue-300":p.value}])},O(u.font),3),m.value?(y(),x("div",Re,O(u.ma),1)):G("",!0),Q(u.font)?(y(),x("div",{key:1,class:P(["text-gray-600 dark:text-gray-300 mt-2 font-medium tracking-tight zigen-font",{"text-sm":l.value<768,"text-base":l.value>=768&&l.value<1024,"text-lg":l.value>=1024}])},O(Q(u.font)),3)):G("",!0)]))),128))],2)]),i("div",Te,[de(i("input",{ref_key:"inputElement",ref:I,"onUpdate:modelValue":s[1]||(s[1]=u=>_.value=u),type:"text",placeholder:"ç·¨ç¢¼",class:P(["px-6 py-4 text-2xl text-center border-2 rounded-xl w-48 font-mono","transition-all duration-300 focus:outline-none focus:ring-4",{"border-red-300 focus:border-red-500 focus:ring-red-200 bg-red-50 dark:border-red-700 dark:focus:border-red-500 dark:focus:ring-red-900/50 dark:bg-red-900/20 dark:text-white":!p.value,"border-blue-300 focus:border-blue-500 focus:ring-blue-200 bg-white dark:border-blue-700 dark:focus:border-blue-500 dark:focus:ring-blue-900/50 dark:bg-gray-800 dark:text-white":p.value}])},null,2),[[ge,_.value]])]),i("div",{class:P(["text-center pb-8 transition-all duration-300",{"opacity-0 transform translate-y-2":!m.value,"opacity-100":m.value}])},[i("div",$e,[s[5]||(s[5]=i("span",{class:"text-gray-800 dark:text-gray-200"},"ç­”æ¡ˆæ˜¯",-1)),s[6]||(s[6]=K()),i("span",Ae,O(g.value.code),1)])],2)],2),i("div",Le,[m.value?(y(),x("div",Oe," ç¹¼çºŒè¼¸å…¥æ­£ç¢ºç·¨ç¢¼ ")):(y(),x("div",Ne,[...s[7]||(s[7]=[i("span",{class:"flex items-center gap-1"},[i("kbd",{class:"px-2 py-1 text-xs bg-gray-100 dark:bg-gray-800 dark:text-gray-300 rounded"},"è¼¸å…¥"),K(" è‡ªå‹•æª¢æŸ¥ ")],-1),i("span",{class:"flex items-center gap-1"},[i("kbd",{class:"px-2 py-1 text-xs bg-gray-100 dark:bg-gray-800 dark:text-gray-300 rounded"},"Esc"),K(" é¡¯ç¤ºç­”æ¡ˆ ")],-1)])]))])])):G("",!0),c.value?(y(),x("div",{key:1,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:n},[i("div",{class:"bg-white dark:bg-gray-800 rounded-lg p-6 max-w-sm mx-4 shadow-xl",onClick:s[2]||(s[2]=ve(()=>{},["stop"]))},[s[8]||(s[8]=fe('<div class="flex items-center gap-3 mb-4" data-v-54179336><div class="w-10 h-10 bg-orange-100 dark:bg-orange-900/30 rounded-full flex items-center justify-center" data-v-54179336><svg class="w-6 h-6 text-orange-600 dark:text-orange-400" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-54179336><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.082 16.5c-.77.833.192 2.5 1.732 2.5z" data-v-54179336></path></svg></div><div data-v-54179336><h3 class="text-lg font-medium text-gray-900 dark:text-gray-100" data-v-54179336>ç¢ºèªé‡ç½®</h3><p class="text-sm text-gray-600 dark:text-gray-400" data-v-54179336>æ‚¨ç¢ºå®šè¦é‡æ–°é–‹å§‹è¨“ç·´å—ï¼Ÿ</p></div></div><p class="text-sm text-gray-600 dark:text-gray-400 mb-6" data-v-54179336> é€™å°‡æ¸…é™¤ç•¶å‰çš„å­¸ç¿’é€²åº¦å’Œçµ±è¨ˆæ•¸æ“šï¼Œç„¡æ³•æ¢å¾©ã€‚ </p>',2)),i("div",{class:"flex gap-3 justify-end"},[i("button",{onClick:n,class:"px-4 py-2 text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 transition-colors"}," å–æ¶ˆ "),i("button",{onClick:r,class:"px-4 py-2 bg-orange-500 hover:bg-orange-600 text-white rounded-lg transition-colors"}," ç¢ºèªé‡ç½® ")])])])):G("",!0)],64))}}),Ee=me(Me,[["__scopeId","data-v-54179336"]]),ze={key:0},Fe={key:1,class:"text-gray-700 dark:text-gray-300 text-center"},Be=te({__name:"ZigenTrain",props:{name:{},zigenUrl:{},range:{},mode:{},supplement:{type:Boolean},ming:{type:Boolean}},setup(S){const e=S;let t=e.name+"_zigen_grouped";const o=e.range;o&&(t+=`_${o[0]}_${o[1]}`);const v=`zigen_sort_order_${e.name}`,d=T(!1),N=Z(),w=Z(),f=Z();function M(){try{const r=localStorage.getItem(v);if(r!==null){const n=JSON.parse(r);d.value=n,console.log("è¼‰å…¥ä¿å­˜çš„æ’åºç‹€æ…‹:",n)}}catch(r){console.warn("è¼‰å…¥æ’åºç‹€æ…‹å¤±æ•—:",r)}}function b(){try{localStorage.setItem(v,JSON.stringify(d.value)),console.log("æ’åºç‹€æ…‹å·²ä¿å­˜:",d.value)}catch(r){console.warn("ä¿å­˜æ’åºç‹€æ…‹å¤±æ•—:",r)}}const h=["å£","ä¸€","æœˆ","ä¸¶","æ—¥","äºº","äº»","æ‰Œ","ç™½","åœŸ","ä¸·","äºŒ","åˆ","ä¸¿","å®€","æœ¨","å°š","è¾¶","å°","å†–","å¶","å¿ƒ","æ°µ","å…«","å¥³","å¤§","è‰¹","ğ ‚‡","åŒ•","å¯¸","ä¹Ÿ","ä¹™","æˆˆ","ç›®","è® ","ä¸","é¾°","é˜","ç«¹","äº†","å","å¤‚","ç‹","åˆ‚","å„¿","åŠ›","å‡µ","å†‚","å­","æ–¤","ç«","ç±³","ä¸","å½","çºŸ","æ–‡","ç«‹","å£«","å¤•","ä¹‚","é—¨","åœ","è‡ª","å°¤","å½³","ç¾Š","æ­¢","ç¦¾","è´","å°¸","å·¥","ä¹š","ä¸Š","å›—","è‡³","æ‰‹","ğ¬º°","è‰®","è½¦","çŸ³","ç”°","å·±","å‡ ","ç‰›","è§","èµ°","ç”²","ä¸”","å½¡","çŠ¬","å·¾","è¥¿","æ–¹","åˆ€","æ®³","ä¸ƒ","å¼“","å·´","çŸ¢","ç¤º"],I=["é³¥","çƒ","é­š","é¦¬","é¢¨","ä¾†","è»Š","é•·","é–€","é¬¥","é½’","é£›","è¦‹","è²","é¹µ","åƒ‰","éŸ‹","å’¼","é»½"],_=r=>{switch(e.mode){case"A":return r[0];case"a":return r[1];case"both":return r}};function m(r){for(const n of r.zigens){const l=h.indexOf(n.font);if(l!==-1)return l}for(const n of r.zigens){const l=I.indexOf(n.font);if(l!==-1)return 1e4+l}return 5e3}function p(r){return[...r].sort((n,l)=>{const E=m(n),L=m(l);return E-L})}function $(){console.log("åˆ‡æ›æ’åºæ¨¡å¼è¢«èª¿ç”¨ï¼Œç•¶å‰ç‹€æ…‹:",d.value),d.value=!d.value,console.log("åˆ‡æ›å¾Œç‹€æ…‹:",d.value),b(),c(),console.log("æ’åºæ‡‰ç”¨å®Œæˆï¼ŒæŒ‰éˆ•æ‡‰è©²é¡¯ç¤ºç‚º:",d.value?"æ©™è‰²ï¼ˆå­—é »åºï¼‰":"ç°è‰²ï¼ˆå­—å…¸åºï¼‰"),setTimeout(()=>{window.location.reload()},100)}function c(){N.value?(d.value?(w.value=p(N.value),console.log("å·²åˆ‡æ›åˆ°å­—é »åºï¼Œé‡æ–°æ’åºäº†",w.value.length,"å€‹å­—æ ¹çµ„")):(w.value=[...N.value],console.log("å·²åˆ‡æ›åˆ°å­—å…¸åºï¼Œæ¢å¾©åŸå§‹é †åº")),U(()=>{console.log("æ’åºæ›´æ–°å®Œæˆï¼Œç•¶å‰é †åº:",w.value.slice(0,3).map(r=>r.code))})):console.warn("originalCardGroups æœªåˆå§‹åŒ–ï¼Œç„¡æ³•æ‡‰ç”¨æ’åº")}function C(r){var l,E;const n=[];for(let L=0;L<r.length;L++){const B=r[L],g=(l=_(B.ma))==null?void 0:l.toLowerCase();if(!g)continue;const z=L>0?r[L-1]:null;(z?(E=_(z.ma))==null?void 0:E.toLowerCase():null)===g&&n.length>0&&n[n.length-1].code===g?n[n.length-1].zigens.push(B):n.push({code:g,zigens:[B]})}return n}function A(){N.value&&(new oe(t).reset(),d.value=!1,b(),c(),console.log("è¨“ç·´å·²é‡ç½®ï¼Œæ’åºç‹€æ…‹é‡ç½®ç‚ºå­—å…¸åº"))}return W(async()=>{M(),f.value=await ae("/chaifen.csv");let n=[...(await ie(e.zigenUrl)).values()];o&&(n=n.slice(o[0],o[1]));const l=C(n);N.value=l,c(),console.log(`å­—æ ¹ç·´ç¿’ï¼šå…± ${l.length} å€‹ç·¨ç¢¼çµ„ï¼ŒåŒ…å« ${n.length} å€‹å­—æ ¹ï¼Œç•¶å‰${d.value?"å­—é »åº":"å­—å…¸åº"}`)}),(r,n)=>w.value&&f.value?(y(),x("div",ze,[pe(Ee,{name:D(t),"card-groups":w.value,"chaifen-map":f.value,mode:"g",supplement:e.supplement??!1,ming:e.ming??!1,"is-frequency-order":d.value,"on-toggle-sort":$,"on-reset":A},null,8,["name","card-groups","chaifen-map","supplement","ming","is-frequency-order"])])):(y(),x("h2",Fe," ä¸‹è¼‰è³‡æ–™ä¸­â€¦â€¦ "))}});export{Be as _};
