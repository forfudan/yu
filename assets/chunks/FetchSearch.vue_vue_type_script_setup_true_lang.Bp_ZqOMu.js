import{d as f,E as l,v as g,c as d,o as r,m as i,b as h,e as y,a3 as w,a4 as x}from"./framework.D5VGNaZP.js";import{_}from"./Search.vue_vue_type_script_setup_true_lang.DmzwfGhK.js";import{b as M,f as k}from"./share.DnuYRLaV.js";const B={class:"input input-bordered bg-gray-100 dark:bg-slate-800 flex items-center gap-2 mt-2"},b={key:0,class:"text-gray-600 text-center py-4"},z={key:2,class:"text-gray-500 text-center py-4"},D=f({__name:"FetchSearch",props:{chaifenUrl:{},zigenUrl:{},supplement:{type:Boolean},ming:{type:Boolean}},setup(m){const n=m,u=l(),p=l(),s=l(!1),o=l(!1),a=l("");async function v(){if(!(o.value||s.value)){s.value=!0;try{const[t,e]=await Promise.all([M(n.chaifenUrl),k(n.zigenUrl)]);u.value=t,p.value=e,o.value=!0}catch(t){console.error("Failed to load search data:",t)}finally{s.value=!1}}}return g(a,t=>{t.trim().length>0&&!o.value&&v()},{immediate:!1}),(t,e)=>(r(),d("div",null,[i("label",B,[w(i("input",{"onUpdate:modelValue":e[0]||(e[0]=c=>a.value=c),type:"text",class:"grow",placeholder:"輸入漢字查詢拆分和編碼"},null,512),[[x,a.value]]),e[2]||(e[2]=i("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor",class:"h-4 w-4 opacity-70"},[i("path",{"fill-rule":"evenodd",d:"M9.965 11.026a5 5 0 1 1 1.06-1.06l2.755 2.754a.75.75 0 1 1-1.06 1.06l-2.755-2.754ZM10.5 7a3.5 3.5 0 1 1-7 0 3.5 3.5 0 0 1 7 0Z","clip-rule":"evenodd"})],-1))]),s.value?(r(),d("div",b," 正在加载拆分数据…… ")):o.value&&u.value&&p.value?(r(),h(_,{key:1,chaifenMap:u.value,zigenMap:p.value,supplement:n.supplement,ming:n.ming||!1,userInput:a.value,"onUpdate:userInput":e[1]||(e[1]=c=>a.value=c)},null,8,["chaifenMap","zigenMap","supplement","ming","userInput"])):a.value.trim().length>0?(r(),d("div",z," 开始输入以查看拆分…… ")):y("",!0)]))}});export{D as _};
